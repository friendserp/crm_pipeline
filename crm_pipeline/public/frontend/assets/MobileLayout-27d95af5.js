import{b as yt}from"./modals-49388916.js";import{E as wt}from"./Email2Icon-1802da2f.js";import{P as _t}from"./PinIcon-7d765f3e.js";import{_ as Ct,a as Ee,b as Et,c as $t}from"./GlobalModals-df7ce568.js";import{L as ze}from"./LeadsIcon-d97be766.js";import{D as Ue}from"./DealsIcon-dc1f8fc1.js";import{C as We}from"./ContactsIcon-c8d300fb.js";import{O as Ge}from"./OrganizationsIcon-cb600311.js";import{N as qe}from"./NoteModal-57ed802b.js";import{T as Ye}from"./TaskIcon-ee0f7b95.js";import{P as Tt}from"./PhoneIcon-2a8d1724.js";import{N as St,u as Ze}from"./notifications-c1664ea2.js";import{d9 as ot,w as M,r as h,da as Lt,j,c as p,bz as se,o as F,aG as I,a0 as S,bu as Se,bw as Le,bn as U,F as oe,db as Z,v as X,bs as T,d7 as rt,bA as he,bB as G,bC as xt,d6 as J,dc as Je,dd as kt,de as Ft,df as ge,D as z,k as B,a1 as Pt,l as Ot,b2 as At,bm as He,dg as st,dh as k,di as Dt,B as Bt,d5 as xe,by as Rt,dj as Ht,dk as q,dl as Nt,n as it,bx as Mt,bb as It,V as ke,g as D,a as V,L as $,H as P,O,b as E,G as Ke,e as Qe,f as Xe,t as te,_ as jt,x as Vt}from"./index-07f63b4e.js";import{m as re}from"./settings-dc117b2e.js";import{k as zt}from"./description-99653f97.js";import"./global-080870c0.js";import"./UserAvatar-7e2b021e.js";import"./ArrowUpRightIcon-ea6835ba.js";import"./Link-9533fd53.js";import"./EditIcon-d1ec43fb.js";import"./FieldLayout-d12c6a75.js";function ut(e,t,l,a){ot.isServer||M(n=>{e=e??window,e.addEventListener(t,l,a),n(()=>e.removeEventListener(t,l,a))})}var ne=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ne||{});function Ut(){let e=h(0);return Lt("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function dt(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let l of e.value){let a=T(l);a instanceof HTMLElement&&t.add(a)}return t}var ct=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(ct||{});let le=Object.assign(j({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:h(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:l,expose:a}){let n=h(null);a({el:n,$el:n});let o=p(()=>se(n)),s=h(!1);F(()=>s.value=!0),I(()=>s.value=!1),Gt({ownerDocument:o},p(()=>s.value&&!!(e.features&16)));let r=qt({ownerDocument:o,container:n,initialFocus:p(()=>e.initialFocus)},p(()=>s.value&&!!(e.features&2)));Yt({ownerDocument:o,container:n,containers:e.containers,previousActiveElement:r},p(()=>s.value&&!!(e.features&8)));let i=Ut();function d(f){let m=T(n);m&&(b=>b())(()=>{J(i.value,{[ne.Forwards]:()=>{he(m,G.First,{skipElements:[f.relatedTarget]})},[ne.Backwards]:()=>{he(m,G.Last,{skipElements:[f.relatedTarget]})}})})}let c=h(!1);function y(f){f.key==="Tab"&&(c.value=!0,requestAnimationFrame(()=>{c.value=!1}))}function u(f){if(!s.value)return;let m=dt(e.containers);T(n)instanceof HTMLElement&&m.add(T(n));let b=f.relatedTarget;b instanceof HTMLElement&&b.dataset.headlessuiFocusGuard!=="true"&&(ft(m,b)||(c.value?he(T(n),J(i.value,{[ne.Forwards]:()=>G.Next,[ne.Backwards]:()=>G.Previous})|G.WrapAround,{relativeTo:f.target}):f.target instanceof HTMLElement&&Z(f.target)))}return()=>{let f={},m={ref:n,onKeydown:y,onFocusout:u},{features:b,initialFocus:v,containers:C,...w}=e;return S(oe,[!!(b&4)&&S(Se,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Le.Focusable}),U({ourProps:m,theirProps:{...t,...w},slot:f,attrs:t,slots:l,name:"FocusTrap"}),!!(b&4)&&S(Se,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Le.Focusable})])}}}),{features:ct});function Wt(e){let t=h(Je.slice());return X([e],([l],[a])=>{a===!0&&l===!1?rt(()=>{t.value.splice(0)}):a===!1&&l===!0&&(t.value=Je.slice())},{flush:"post"}),()=>{var l;return(l=t.value.find(a=>a!=null&&a.isConnected))!=null?l:null}}function Gt({ownerDocument:e},t){let l=Wt(t);F(()=>{M(()=>{var a,n;t.value||((a=e.value)==null?void 0:a.activeElement)===((n=e.value)==null?void 0:n.body)&&Z(l())},{flush:"post"})}),I(()=>{t.value&&Z(l())})}function qt({ownerDocument:e,container:t,initialFocus:l},a){let n=h(null),o=h(!1);return F(()=>o.value=!0),I(()=>o.value=!1),F(()=>{X([t,l,a],(s,r)=>{if(s.every((d,c)=>(r==null?void 0:r[c])===d)||!a.value)return;let i=T(t);i&&rt(()=>{var d,c;if(!o.value)return;let y=T(l),u=(d=e.value)==null?void 0:d.activeElement;if(y){if(y===u){n.value=u;return}}else if(i.contains(u)){n.value=u;return}y?Z(y):he(i,G.First|G.NoScroll)===xt.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),n.value=(c=e.value)==null?void 0:c.activeElement})},{immediate:!0,flush:"post"})}),n}function Yt({ownerDocument:e,container:t,containers:l,previousActiveElement:a},n){var o;ut((o=e.value)==null?void 0:o.defaultView,"focus",s=>{if(!n.value)return;let r=dt(l);T(t)instanceof HTMLElement&&r.add(T(t));let i=a.value;if(!i)return;let d=s.target;d&&d instanceof HTMLElement?ft(r,d)?(a.value=d,Z(d)):(s.preventDefault(),s.stopPropagation(),Z(i)):Z(a.value)},!0)}function ft(e,t){for(let l of e)if(l.contains(t))return!0;return!1}function Zt(e){let t=kt(e.getSnapshot());return I(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function Jt(e,t){let l=e(),a=new Set;return{getSnapshot(){return l},subscribe(n){return a.add(n),()=>a.delete(n)},dispatch(n,...o){let s=t[n].call(l,...o);s&&(l=s,a.forEach(r=>r()))}}}function Kt(){let e;return{before({doc:t}){var l;let a=t.documentElement;e=((l=t.defaultView)!=null?l:window).innerWidth-a.clientWidth},after({doc:t,d:l}){let a=t.documentElement,n=a.clientWidth-a.offsetWidth,o=e-n;l.style(a,"paddingRight",`${o}px`)}}}function Qt(){return Ft()?{before({doc:e,d:t,meta:l}){function a(n){return l.containers.flatMap(o=>o()).some(o=>o.contains(n))}t.microTask(()=>{var n;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let r=ge();r.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>r.dispose()))}let o=(n=window.scrollY)!=null?n:window.pageYOffset,s=null;t.addEventListener(e,"click",r=>{if(r.target instanceof HTMLElement)try{let i=r.target.closest("a");if(!i)return;let{hash:d}=new URL(i.href),c=e.querySelector(d);c&&!a(c)&&(s=c)}catch{}},!0),t.addEventListener(e,"touchstart",r=>{if(r.target instanceof HTMLElement)if(a(r.target)){let i=r.target;for(;i.parentElement&&a(i.parentElement);)i=i.parentElement;t.style(i,"overscrollBehavior","contain")}else t.style(r.target,"touchAction","none")}),t.addEventListener(e,"touchmove",r=>{if(r.target instanceof HTMLElement){if(r.target.tagName==="INPUT")return;if(a(r.target)){let i=r.target;for(;i.parentElement&&i.dataset.headlessuiPortal!==""&&!(i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth);)i=i.parentElement;i.dataset.headlessuiPortal===""&&r.preventDefault()}else r.preventDefault()}},{passive:!1}),t.add(()=>{var r;let i=(r=window.scrollY)!=null?r:window.pageYOffset;o!==i&&window.scrollTo(0,o),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function Xt(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function el(e){let t={};for(let l of e)Object.assign(t,l(t));return t}let Y=Jt(()=>new Map,{PUSH(e,t){var l;let a=(l=this.get(e))!=null?l:{doc:e,count:0,d:ge(),meta:new Set};return a.count++,a.meta.add(t),this.set(e,a),this},POP(e,t){let l=this.get(e);return l&&(l.count--,l.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:l}){let a={doc:e,d:t,meta:el(l)},n=[Qt(),Kt(),Xt()];n.forEach(({before:o})=>o==null?void 0:o(a)),n.forEach(({after:o})=>o==null?void 0:o(a))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Y.subscribe(()=>{let e=Y.getSnapshot(),t=new Map;for(let[l]of e)t.set(l,l.documentElement.style.overflow);for(let l of e.values()){let a=t.get(l.doc)==="hidden",n=l.count!==0;(n&&!a||!n&&a)&&Y.dispatch(l.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",l),l.count===0&&Y.dispatch("TEARDOWN",l)}});function tl(e,t,l){let a=Zt(Y),n=p(()=>{let o=e.value?a.value.get(e.value):void 0;return o?o.count>0:!1});return X([e,t],([o,s],[r],i)=>{if(!o||!s)return;Y.dispatch("PUSH",o,l);let d=!1;i(()=>{d||(Y.dispatch("POP",r??o,l),d=!0)})},{immediate:!0}),n}let $e=new Map,ae=new Map;function et(e,t=h(!0)){M(l=>{var a;if(!t.value)return;let n=T(e);if(!n)return;l(function(){var s;if(!n)return;let r=(s=ae.get(n))!=null?s:1;if(r===1?ae.delete(n):ae.set(n,r-1),r!==1)return;let i=$e.get(n);i&&(i["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",i["aria-hidden"]),n.inert=i.inert,$e.delete(n))});let o=(a=ae.get(n))!=null?a:0;ae.set(n,o+1),o===0&&($e.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0)})}function ll({defaultContainers:e=[],portals:t,mainTreeNodeRef:l}={}){let a=h(null),n=se(a);function o(){var s,r,i;let d=[];for(let c of e)c!==null&&(c instanceof HTMLElement?d.push(c):"value"in c&&c.value instanceof HTMLElement&&d.push(c.value));if(t!=null&&t.value)for(let c of t.value)d.push(c);for(let c of(s=n==null?void 0:n.querySelectorAll("html > *, body > *"))!=null?s:[])c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c.id!=="headlessui-portal-root"&&(c.contains(T(a))||c.contains((i=(r=T(a))==null?void 0:r.getRootNode())==null?void 0:i.host)||d.some(y=>c.contains(y))||d.push(c));return d}return{resolveContainers:o,contains(s){return o().some(r=>r.contains(s))},mainTreeNodeRef:a,MainTreeNode(){return l!=null?null:S(Se,{features:Le.Hidden,ref:a})}}}let vt=Symbol("ForcePortalRootContext");function al(){return B(vt,!1)}let tt=j({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:l}){return z(vt,e.force),()=>{let{force:a,...n}=e;return U({theirProps:n,ourProps:{},slot:{},slots:t,attrs:l,name:"ForcePortalRoot"})}}}),pt=Symbol("StackContext");var Fe=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Fe||{});function nl(){return B(pt,()=>{})}function ol({type:e,enabled:t,element:l,onUpdate:a}){let n=nl();function o(...s){a==null||a(...s),n(...s)}F(()=>{X(t,(s,r)=>{s?o(0,e,l):r===!0&&o(1,e,l)},{immediate:!0,flush:"sync"})}),I(()=>{t.value&&o(1,e,l)}),z(pt,o)}function rl(e){let t=se(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let l=t.getElementById("headlessui-portal-root");if(l)return l;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)}const Pe=new WeakMap;function sl(e){var t;return(t=Pe.get(e))!=null?t:0}function lt(e,t){let l=t(sl(e));return l<=0?Pe.delete(e):Pe.set(e,l),l}let il=j({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:l}){let a=h(null),n=p(()=>se(a)),o=al(),s=B(mt,null),r=h(o===!0||s==null?rl(a.value):s.resolveTarget());r.value&&lt(r.value,u=>u+1);let i=h(!1);F(()=>{i.value=!0}),M(()=>{o||s!=null&&(r.value=s.resolveTarget())});let d=B(Oe,null),c=!1,y=At();return X(a,()=>{if(c||!d)return;let u=T(a);u&&(I(d.register(u),y),c=!0)}),I(()=>{var u,f;let m=(u=n.value)==null?void 0:u.getElementById("headlessui-portal-root");!m||r.value!==m||lt(r.value,b=>b-1)||r.value.children.length>0||(f=r.value.parentElement)==null||f.removeChild(r.value)}),()=>{if(!i.value||r.value===null)return null;let u={ref:a,"data-headlessui-portal":""};return S(Pt,{to:r.value},U({ourProps:u,theirProps:e,slot:{},attrs:l,slots:t,name:"Portal"}))}}}),Oe=Symbol("PortalParentContext");function ul(){let e=B(Oe,null),t=h([]);function l(o){return t.value.push(o),e&&e.register(o),()=>a(o)}function a(o){let s=t.value.indexOf(o);s!==-1&&t.value.splice(s,1),e&&e.unregister(o)}let n={register:l,unregister:a,portals:t};return[t,j({name:"PortalWrapper",setup(o,{slots:s}){return z(Oe,n),()=>{var r;return(r=s.default)==null?void 0:r.call(s)}}})]}let mt=Symbol("PortalGroupContext"),dl=j({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:l}){let a=Ot({resolveTarget(){return e.target}});return z(mt,a),()=>{let{target:n,...o}=e;return U({theirProps:o,ourProps:{},slot:{},attrs:t,slots:l,name:"PortalGroup"})}}});var cl=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(cl||{});let Ae=Symbol("DialogContext");function ht(e){let t=B(Ae,null);if(t===null){let l=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,ht),l}return t}let pe="DC8F892D-2EBD-447C-A4C8-A03058436FF4",at=j({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:pe},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:t,attrs:l,slots:a,expose:n}){var o,s;let r=(o=e.id)!=null?o:`headlessui-dialog-${He()}`,i=h(!1);F(()=>{i.value=!0});let d=!1,c=p(()=>e.role==="dialog"||e.role==="alertdialog"?e.role:(d||(d=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),y=h(0),u=st(),f=p(()=>e.open===pe&&u!==null?(u.value&k.Open)===k.Open:e.open),m=h(null),b=p(()=>se(m));if(n({el:m,$el:m}),!(e.open!==pe||u!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof f.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${f.value===pe?void 0:e.open}`);let v=p(()=>i.value&&f.value?0:1),C=p(()=>v.value===0),w=p(()=>y.value>1),R=B(Ae,null)!==null,[ie,ue]=ul(),{resolveContainers:K,mainTreeNodeRef:de,MainTreeNode:ce}=ll({portals:ie,defaultContainers:[p(()=>{var g;return(g=Q.panelRef.value)!=null?g:m.value})]}),ye=p(()=>w.value?"parent":"leaf"),fe=p(()=>u!==null?(u.value&k.Closing)===k.Closing:!1),we=p(()=>R||fe.value?!1:C.value),_e=p(()=>{var g,_,L;return(L=Array.from((_=(g=b.value)==null?void 0:g.querySelectorAll("body > *"))!=null?_:[]).find(x=>x.id==="headlessui-portal-root"?!1:x.contains(T(de))&&x instanceof HTMLElement))!=null?L:null});et(_e,we);let A=p(()=>w.value?!0:C.value),ee=p(()=>{var g,_,L;return(L=Array.from((_=(g=b.value)==null?void 0:g.querySelectorAll("[data-headlessui-portal]"))!=null?_:[]).find(x=>x.contains(T(de))&&x instanceof HTMLElement))!=null?L:null});et(ee,A),ol({type:"Dialog",enabled:p(()=>v.value===0),element:m,onUpdate:(g,_)=>{if(_==="Dialog")return J(g,{[Fe.Add]:()=>y.value+=1,[Fe.Remove]:()=>y.value-=1})}});let H=zt({name:"DialogDescription",slot:p(()=>({open:f.value}))}),N=h(null),Q={titleId:N,panelRef:h(null),dialogState:v,setTitleId(g){N.value!==g&&(N.value=g)},close(){t("close",!1)}};z(Ae,Q);let Ie=p(()=>!(!C.value||w.value));Dt(K,(g,_)=>{g.preventDefault(),Q.close(),Bt(()=>_==null?void 0:_.focus())},Ie);let je=p(()=>!(w.value||v.value!==0));ut((s=b.value)==null?void 0:s.defaultView,"keydown",g=>{je.value&&(g.defaultPrevented||g.key===Rt.Escape&&(g.preventDefault(),g.stopPropagation(),Q.close()))});let Ve=p(()=>!(fe.value||v.value!==0||R));return tl(b,Ve,g=>{var _;return{containers:[...(_=g.containers)!=null?_:[],K]}}),M(g=>{if(v.value!==0)return;let _=T(m);if(!_)return;let L=new ResizeObserver(x=>{for(let Ce of x){let ve=Ce.target.getBoundingClientRect();ve.x===0&&ve.y===0&&ve.width===0&&ve.height===0&&Q.close()}});L.observe(_),g(()=>L.disconnect())}),()=>{let{open:g,initialFocus:_,...L}=e,x={...l,ref:m,id:r,role:c.value,"aria-modal":v.value===0?!0:void 0,"aria-labelledby":N.value,"aria-describedby":H.value},Ce={open:v.value===0};return S(tt,{force:!0},()=>[S(il,()=>S(dl,{target:m.value},()=>S(tt,{force:!1},()=>S(le,{initialFocus:_,containers:K,features:C.value?J(ye.value,{parent:le.features.RestoreFocus,leaf:le.features.All&~le.features.FocusLock}):le.features.None},()=>S(ue,{},()=>U({ourProps:x,theirProps:{...L,...l},slot:Ce,attrs:l,slots:a,visible:v.value===0,features:xe.RenderStrategy|xe.Static,name:"Dialog"})))))),S(ce)])}}}),fl=j({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:l}){var a;let n=(a=e.id)!=null?a:`headlessui-dialog-overlay-${He()}`,o=ht("DialogOverlay");function s(r){r.target===r.currentTarget&&(r.preventDefault(),r.stopPropagation(),o.close())}return()=>{let{...r}=e;return U({ourProps:{id:n,"aria-hidden":!0,onClick:s},theirProps:r,slot:{open:o.dialogState.value===0},attrs:t,slots:l,name:"DialogOverlay"})}}});function vl(e){let t={called:!1};return(...l)=>{if(!t.called)return t.called=!0,e(...l)}}function Te(e,...t){e&&t.length>0&&e.classList.add(...t)}function me(e,...t){e&&t.length>0&&e.classList.remove(...t)}var De=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(De||{});function pl(e,t){let l=ge();if(!e)return l.dispose;let{transitionDuration:a,transitionDelay:n}=getComputedStyle(e),[o,s]=[a,n].map(r=>{let[i=0]=r.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,c)=>c-d);return i});return o!==0?l.setTimeout(()=>t("finished"),o+s):t("finished"),l.add(()=>t("cancelled")),l.dispose}function nt(e,t,l,a,n,o){let s=ge(),r=o!==void 0?vl(o):()=>{};return me(e,...n),Te(e,...t,...l),s.nextFrame(()=>{me(e,...l),Te(e,...a),s.add(pl(e,i=>(me(e,...a,...t),Te(e,...n),r(i))))}),s.add(()=>me(e,...t,...l,...a,...n)),s.add(()=>r("cancelled")),s.dispose}function W(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let Ne=Symbol("TransitionContext");var ml=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ml||{});function hl(){return B(Ne,null)!==null}function gl(){let e=B(Ne,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function bl(){let e=B(Me,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let Me=Symbol("NestingContext");function be(e){return"children"in e?be(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function gt(e){let t=h([]),l=h(!1);F(()=>l.value=!0),I(()=>l.value=!1);function a(o,s=q.Hidden){let r=t.value.findIndex(({id:i})=>i===o);r!==-1&&(J(s,{[q.Unmount](){t.value.splice(r,1)},[q.Hidden](){t.value[r].state="hidden"}}),!be(t)&&l.value&&(e==null||e()))}function n(o){let s=t.value.find(({id:r})=>r===o);return s?s.state!=="visible"&&(s.state="visible"):t.value.push({id:o,state:"visible"}),()=>a(o,q.Unmount)}return{children:t,register:n,unregister:a}}let bt=xe.RenderStrategy,Be=j({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:l,slots:a,expose:n}){let o=h(0);function s(){o.value|=k.Opening,t("beforeEnter")}function r(){o.value&=~k.Opening,t("afterEnter")}function i(){o.value|=k.Closing,t("beforeLeave")}function d(){o.value&=~k.Closing,t("afterLeave")}if(!hl()&&Ht())return()=>S(Re,{...e,onBeforeEnter:s,onAfterEnter:r,onBeforeLeave:i,onAfterLeave:d},a);let c=h(null),y=p(()=>e.unmount?q.Unmount:q.Hidden);n({el:c,$el:c});let{show:u,appear:f}=gl(),{register:m,unregister:b}=bl(),v=h(u.value?"visible":"hidden"),C={value:!0},w=He(),R={value:!1},ie=gt(()=>{!R.value&&v.value!=="hidden"&&(v.value="hidden",b(w),d())});F(()=>{let A=m(w);I(A)}),M(()=>{if(y.value===q.Hidden&&w){if(u.value&&v.value!=="visible"){v.value="visible";return}J(v.value,{hidden:()=>b(w),visible:()=>m(w)})}});let ue=W(e.enter),K=W(e.enterFrom),de=W(e.enterTo),ce=W(e.entered),ye=W(e.leave),fe=W(e.leaveFrom),we=W(e.leaveTo);F(()=>{M(()=>{if(v.value==="visible"){let A=T(c);if(A instanceof Comment&&A.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function _e(A){let ee=C.value&&!f.value,H=T(c);!H||!(H instanceof HTMLElement)||ee||(R.value=!0,u.value&&s(),u.value||i(),A(u.value?nt(H,ue,K,de,ce,N=>{R.value=!1,N===De.Finished&&r()}):nt(H,ye,fe,we,ce,N=>{R.value=!1,N===De.Finished&&(be(ie)||(v.value="hidden",b(w),d()))})))}return F(()=>{X([u],(A,ee,H)=>{_e(H),C.value=!1},{immediate:!0})}),z(Me,ie),Nt(p(()=>J(v.value,{visible:k.Open,hidden:k.Closed})|o.value)),()=>{let{appear:A,show:ee,enter:H,enterFrom:N,enterTo:Q,entered:Ie,leave:je,leaveFrom:Ve,leaveTo:g,..._}=e,L={ref:c},x={..._,...f.value&&u.value&&ot.isServer?{class:it([l.class,_.class,...ue,...K])}:{}};return U({theirProps:x,ourProps:L,slot:{},slots:a,attrs:l,features:bt,visible:v.value==="visible",name:"TransitionChild"})}}}),yl=Be,Re=j({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:l,slots:a}){let n=st(),o=p(()=>e.show===null&&n!==null?(n.value&k.Open)===k.Open:e.show);M(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let s=h(o.value?"visible":"hidden"),r=gt(()=>{s.value="hidden"}),i=h(!0),d={show:o,appear:p(()=>e.appear||!i.value)};return F(()=>{M(()=>{i.value=!1,o.value?s.value="visible":be(r)||(s.value="hidden")})}),z(Me,r),z(Ne,d),()=>{let c=Mt(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),y={unmount:e.unmount};return U({ourProps:{...y,as:"template"},theirProps:{},slot:{},slots:{...a,default:()=>[S(yl,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...l,...y,...c},a.default)]},attrs:{},features:bt,visible:s.value==="visible",name:"Transition"})}}});const wl={class:"relative z-10 flex h-full w-[260px] flex-col justify-between border-r bg-surface-menu-bar transition-all duration-300 ease-in-out"},_l={class:"flex-1 overflow-y-auto"},Cl={class:"mb-3 flex flex-col"},El=["onClick"],$l={class:"flex flex-col"},Tl={class:"m-2 flex flex-col gap-1"},Sl={class:"grid h-4 w-4 flex-shrink-0 place-items-center"},Ll={class:"w-full max-w-sm rounded-lg bg-white p-6 shadow-lg"},xl={class:"mb-4 text-lg font-semibold"},kl={class:"mb-6"},Fl={class:"flex justify-end gap-4"},Pl={__name:"MobileSidebar",setup(e){const{getPinnedViews:t,getPublicViews:l}=It(),a=h(!1),n=p(()=>!re.value),o=[{label:"Leads",icon:ze,to:"Leads"},{label:"Deals",icon:Ue,to:"Deals"},{label:"Contacts",icon:We,to:"Contacts"},{label:"Organizations",icon:Ge,to:"Organizations"},{label:"Notes",icon:qe,to:"Notes"},{label:"Tasks",icon:Ye,to:"Tasks"},{label:"Email Templates",icon:wt,to:"Email Templates"},{label:"Organization Search",icon:Ye,to:"Search"}],s=p(()=>{const u=[{name:"All Views",hideLabel:!0,opened:!0,views:o}];return l().length&&u.push({name:"Public views",opened:!0,views:r(l())}),t().length&&u.push({name:"Pinned views",opened:!0,views:r(t())}),u});function r(u){return u.map(f=>({label:f.label,icon:i(f.route_name,f.icon),to:{name:f.route_name,params:{viewType:f.type||"list"},query:{view:f.name}}}))}function i(u,f){if(f)return S("div",{class:"size-auto"},f);switch(u){case"Leads":return ze;case"Deals":return Ue;case"Contacts":return We;case"Organizations":return Ge;case"Notes":return qe;case"Call Logs":return Tt;default:return _t}}function d(){re.value=!1}function c(){a.value=!0}async function y(){var u;try{document.cookie.split(";").forEach(C=>{const w=C.split("=")[0].trim();document.cookie=`${w}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`,document.cookie=`${w}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=${location.hostname}`}),localStorage.clear(),sessionStorage.clear();const f=window.location.origin,m=await fetch(`${f}/api/method/crm_override.api.get_csrf_token`,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});if(!m.ok)throw new Error(`CSRF fetch failed: ${m.status}`);const v=(u=(await m.json()).message)==null?void 0:u.csrf_token;if(v){const C=new URLSearchParams({csrf_token:v}),w=await fetch(`${f}/api/method/crm_override.api.force_logout?${C.toString()}`,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});if(!w.ok)throw new Error(`Logout failed: ${w.status}`)}}catch(f){console.warn("Logout error:",f)}finally{a.value=!1,d(),location.reload()}}return(u,f)=>{const m=ke("Badge"),b=ke("FeatherIcon");return D(),V(oe,null,[$(O(Re),{show:O(re)},{default:P(()=>[$(O(at),{as:"div",onClose:d,class:"fixed inset-0 z-40"},{default:P(()=>[$(O(Be),{as:"template",enter:"transition ease-in-out duration-200 transform","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-200 transform","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:P(()=>[E("div",wl,[E("div",null,[$(Ct,{class:"p-2",isCollapsed:n.value},null,8,["isCollapsed"])]),E("div",_l,[E("div",Cl,[$(Ee,{id:"notifications-btn",label:u.__("Notifications"),icon:St,to:{name:"Notifications"},isCollapsed:n.value,class:"relative mx-2 my-0.5",onClick:d},{right:P(()=>[O(Ze)?(D(),Ke(m,{key:0,label:O(Ze),variant:"subtle"},null,8,["label"])):Qe("",!0)]),_:1},8,["label","isCollapsed"])]),(D(!0),V(oe,null,Xe(s.value,v=>(D(),V("div",{key:v.label},[$(yt,{label:v.name,hideLabel:v.hideLabel,opened:v.opened},{header:P(({opened:C,hide:w,toggle:R})=>[w?Qe("",!0):(D(),V("div",{key:0,class:"ml-2 mt-4 flex h-7 w-auto cursor-pointer gap-1.5 px-1 text-base font-medium text-ink-gray-5 opacity-100 transition-all duration-300 ease-in-out",onClick:R},[$(b,{name:"chevron-right",class:it(["h-4 text-ink-gray-9 transition-all duration-300 ease-in-out",{"rotate-90":C}])},null,8,["class"]),E("span",null,te(u.__(v.name)),1)],8,El))]),default:P(()=>[E("nav",$l,[(D(!0),V(oe,null,Xe(v.views,C=>(D(),Ke(Ee,{key:C.label,icon:C.icon,label:u.__(C.label),to:C.to,isCollapsed:n.value,class:"mx-2 my-0.5",onClick:d},null,8,["icon","label","to","isCollapsed"]))),128))])]),_:2},1032,["label","hideLabel","opened"])]))),128))]),E("div",Tl,[$(Ee,{label:u.__("Clear cookies & Logout"),isCollapsed:n.value,onClick:c,class:"mx-2 my-0.5"},{icon:P(()=>[E("span",Sl,[$(b,{name:"trash-2",class:"h-4 w-4 text-ink-gray-7"})])]),_:1},8,["label","isCollapsed"])])])]),_:1}),$(O(Be),{as:"template",enter:"transition-opacity ease-linear duration-200","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:P(()=>[$(O(fl),{class:"fixed inset-0 bg-gray-600 bg-opacity-50"})]),_:1})]),_:1})]),_:1},8,["show"]),$(O(Re),{show:a.value},{default:P(()=>[$(O(at),{as:"div",class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClose:f[1]||(f[1]=v=>a.value=!1)},{default:P(()=>[E("div",Ll,[E("h2",xl,te(u.__("Confirm Clear Cookies")),1),E("p",kl,te(u.__("Are you sure you want to clear all cookies? This will refresh the page.")),1),E("div",Fl,[E("button",{class:"rounded bg-gray-200 px-4 py-2 hover:bg-gray-300",onClick:f[0]||(f[0]=v=>a.value=!1)},te(u.__("Cancel")),1),E("button",{class:"rounded bg-red-600 px-4 py-2 text-white hover:bg-red-700",onClick:y},te(u.__("Confirm")),1)])])]),_:1})]),_:1},8,["show"])],64)}}},Ol={},Al={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Dl(e,t){return D(),V("svg",Al,[...t[0]||(t[0]=[E("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.5 3.2002C2.5 2.92405 2.72386 2.7002 3 2.7002H13C13.2761 2.7002 13.5 2.92405 13.5 3.2002C13.5 3.47634 13.2761 3.7002 13 3.7002H3C2.72386 3.7002 2.5 3.47634 2.5 3.2002ZM2.5 8.00024C2.5 7.7241 2.72386 7.50024 3 7.50024H13C13.2761 7.50024 13.5 7.7241 13.5 8.00024C13.5 8.27639 13.2761 8.50024 13 8.50024H3C2.72386 8.50024 2.5 8.27639 2.5 8.00024ZM3 12.3003C2.72386 12.3003 2.5 12.5242 2.5 12.8003C2.5 13.0764 2.72386 13.3003 3 13.3003H13C13.2761 13.3003 13.5 13.0764 13.5 12.8003C13.5 12.5242 13.2761 12.3003 13 12.3003H3Z",fill:"currentColor"},null,-1)])])}const Bl=jt(Ol,[["render",Dl]]),Rl={class:"flex pr-3"},Hl={class:"z-20 ml-2 flex items-center justify-center"},Nl={__name:"MobileAppHeader",setup(e){return(t,l)=>{const a=ke("Button");return D(),V(oe,null,[E("div",Rl,[E("div",Hl,[$(a,{class:"size-7",variant:"ghosted",onClick:l[0]||(l[0]=n=>re.value=!O(re))},{default:P(()=>[$(Bl,{class:"h-4 text-ink-gray-9"})]),_:1})]),l[1]||(l[1]=E("div",{id:"app-header",class:"flex-1"},null,-1))]),$(Et,{class:"mr-3 mt-2"})],64)}}},Ml={class:"flex h-screen w-screen"},Il={class:"flex h-full flex-1 flex-col overflow-auto bg-surface-white"},ia={__name:"MobileLayout",setup(e){return(t,l)=>(D(),V("div",Ml,[$(Pl),E("div",Il,[$(Nl),Vt(t.$slots,"default")]),$($t)]))}};export{ia as default};
//# sourceMappingURL=MobileLayout-27d95af5.js.map
