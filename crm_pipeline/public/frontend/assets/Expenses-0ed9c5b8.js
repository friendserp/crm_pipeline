import{_ as x,a as i,b as t,J as c,a3 as m,F as h,f as g,e as u,d as _,t as o,a2 as f,aE as P,n as v,a4 as w,g as d}from"./index-07f63b4e.js";const C={name:"PaymentEntriesPage",data(){return{searchQuery:"",paymentEntries:[],showModal:!1,currentPayment:this.createEmptyPayment(),cashAccounts:[],paidFromAccounts:[],customers:[],suppliers:[],isSaving:!1,isSubmitting:!1}},computed:{filteredPayments(){if(!this.searchQuery)return this.paymentEntries;const r=this.searchQuery.toLowerCase();return this.paymentEntries.filter(e=>{var l,b,s,a,n,y;return((l=e.name)==null?void 0:l.toLowerCase().includes(r))||((b=e.party_name)==null?void 0:b.toLowerCase().includes(r))||((s=e.payment_type)==null?void 0:s.toLowerCase().includes(r))||((a=e.status)==null?void 0:a.toLowerCase().includes(r))||((n=e.paid_from)==null?void 0:n.toLowerCase().includes(r))||((y=e.paid_to)==null?void 0:y.toLowerCase().includes(r))})},isFormValid(){const r=[this.currentPayment.payment_type,this.currentPayment.party,this.currentPayment.posting_date,this.currentPayment.paid_amount,this.currentPayment.paid_from,this.currentPayment.paid_to];return this.currentPayment.payment_type==="Receive"&&r.push(this.currentPayment.received_amount),r.every(e=>e&&e.toString().trim()!=="")},currentParties(){return this.currentPayment.payment_type==="Receive"?this.customers:this.currentPayment.payment_type==="Pay"?this.suppliers:[]}},mounted(){this.loadPaymentEntries(),this.loadCashAccounts(),this.loadPaidFromAccounts(),this.loadCustomers(),this.loadSuppliers()},methods:{createEmptyPayment(){return{name:null,payment_type:"Pay",party_type:"Supplier",party:"",party_name:"",posting_date:new Date().toISOString().split("T")[0],paid_amount:0,received_amount:0,paid_from:"",paid_to:"",mode_of_payment:"",reference_no:"",reference_date:new Date().toISOString().split("T")[0],remarks:"",company:"Friends ERP (Demo)",status:"Draft",references:[],in_words:""}},createEmptyReference(){return{reference_doctype:"Purchase Invoice",reference_name:"",allocated_amount:0,total_amount:0}},addReference(){this.currentPayment.references.push(this.createEmptyReference())},removeReference(r){this.currentPayment.references.splice(r,1)},async loadCustomers(){try{const r=await fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({doctype:"Customer",fields:["name","customer_name"],filters:[["disabled","=",0]],order_by:"customer_name",limit:1e3})});if(r.ok){const e=await r.json();this.customers=e.message.map(l=>({name:l.name,party_name:l.customer_name,party_type:"Customer"}))}else this.customers=[{name:"CUST-00001",party_name:"Grant Plastics Ltd.",party_type:"Customer"},{name:"CUST-00002",party_name:"Summit Traders Ltd.",party_type:"Customer"},{name:"CUST-00003",party_name:"Zuckerman Security Ltd.",party_type:"Customer"}]}catch(r){console.error("Error loading customers:",r),this.customers=[{name:"CUST-00001",party_name:"Grant Plastics Ltd.",party_type:"Customer"},{name:"CUST-00002",party_name:"Summit Traders Ltd.",party_type:"Customer"}]}},async loadSuppliers(){try{const r=await fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({doctype:"Supplier",fields:["name","supplier_name"],filters:[["disabled","=",0]],order_by:"supplier_name",limit:1e3})});if(r.ok){const e=await r.json();this.suppliers=e.message.map(l=>({name:l.name,party_name:l.supplier_name,party_type:"Supplier"}))}else this.suppliers=[{name:"SUPP-00001",party_name:"Grant Plastics Ltd.",party_type:"Supplier"},{name:"SUPP-00002",party_name:"Summit Traders Ltd.",party_type:"Supplier"},{name:"SUPP-00003",party_name:"Zuckerman Security Ltd.",party_type:"Supplier"}]}catch(r){console.error("Error loading suppliers:",r),this.suppliers=[{name:"SUPP-00001",party_name:"Grant Plastics Ltd.",party_type:"Supplier"},{name:"SUPP-00002",party_name:"Summit Traders Ltd.",party_type:"Supplier"}]}},updatePartyDetails(){if(this.currentPayment.party){let r=null;this.currentPayment.payment_type==="Receive"?r=this.customers.find(e=>e.name===this.currentPayment.party):this.currentPayment.payment_type==="Pay"&&(r=this.suppliers.find(e=>e.name===this.currentPayment.party)),r&&(this.currentPayment.party_name=r.party_name,this.currentPayment.party_type=r.party_type)}else this.currentPayment.party_name="",this.currentPayment.party_type=this.currentPayment.payment_type==="Receive"?"Customer":"Supplier"},updateAmountFields(){this.currentPayment.payment_type==="Receive"&&(this.currentPayment.received_amount=this.currentPayment.paid_amount),this.updateAmountInWords()},updateAmountInWords(){const r=this.currentPayment.paid_amount;r&&r>0?this.currentPayment.in_words=`ETB ${this.numberToWords(r)} only.`:this.currentPayment.in_words="Zero"},async loadCashAccounts(){try{const r=await fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({doctype:"Account",fields:["name","account_type","account_name"],filters:[["account_type","=","Cash"],["is_group","=",0],["company","=","Friends ERP (Demo)"]],order_by:"name"})});if(r.ok){const e=await r.json();this.cashAccounts=e.message}else this.cashAccounts=[{name:"Cash - FED",account_type:"Cash",account_name:"Cash"},{name:"Petty Cash - FED",account_type:"Cash",account_name:"Petty Cash"}]}catch(r){console.error("Error loading cash accounts:",r),this.cashAccounts=[{name:"Cash - FED",account_type:"Cash",account_name:"Cash"},{name:"Petty Cash - FED",account_type:"Cash",account_name:"Petty Cash"}]}},async loadPaidFromAccounts(){try{const r=await fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({doctype:"Account",fields:["name","account_type","account_name"],filters:[["company","=","Friends ERP (Demo)"],["is_group","=",0]],order_by:"name"})});if(r.ok){const e=await r.json();this.paidFromAccounts=e.message}else this.paidFromAccounts=[{name:"Debtors - FED",account_type:"Receivable",account_name:"Debtors"},{name:"Creditors - FED",account_type:"Payable",account_name:"Creditors"},{name:"Demo Bank Account - FED",account_type:"Bank",account_name:"Demo Bank Account"}]}catch(r){console.error("Error loading paid from accounts:",r),this.paidFromAccounts=[{name:"Debtors - FED",account_type:"Receivable",account_name:"Debtors"},{name:"Creditors - FED",account_type:"Payable",account_name:"Creditors"}]}},async loadPaymentEntries(){try{const r=await fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({doctype:"Payment Entry",fields:["*"],order_by:"creation desc",limit:50})});if(r.ok){const e=await r.json();this.paymentEntries=e.message}else throw new Error("Failed to load payment entries")}catch(r){console.error("Error loading payment entries:",r),this.paymentEntries=[{name:"ACC-PAY-2025-00006",payment_type:"Receive",party_type:"Customer",party:"CUST-00001",party_name:"Grant Plastics Ltd.",posting_date:"2025-10-07",paid_amount:1200,received_amount:1200,paid_from:"Debtors - FED",paid_to:"Cash - FED",status:"Submitted",company:"Friends ERP (Demo)",in_words:"ETB One Thousand, Two Hundred only.",remarks:"Amount ETB 1200 received from Grant Plastics Ltd.",references:[]}]}},createNewPayment(){this.currentPayment=this.createEmptyPayment(),this.showModal=!0},viewPayment(r){this.currentPayment=JSON.parse(JSON.stringify(r)),this.showModal=!0},closeModal(){this.showModal=!1,this.currentPayment=this.createEmptyPayment()},handlePaymentTypeChange(){if(this.currentPayment.party="",this.currentPayment.party_name="",this.currentPayment.party_type=this.currentPayment.payment_type==="Receive"?"Customer":"Supplier",this.currentPayment.payment_type==="Receive"){if(!this.currentPayment.paid_from&&this.paidFromAccounts.length>0){const r=this.paidFromAccounts.find(e=>e.account_type==="Receivable");r&&(this.currentPayment.paid_from=r.name)}!this.currentPayment.paid_to&&this.cashAccounts.length>0&&(this.currentPayment.paid_to=this.cashAccounts[0].name),this.currentPayment.received_amount=this.currentPayment.paid_amount}else if(this.currentPayment.payment_type==="Pay"){if(!this.currentPayment.paid_from&&this.paidFromAccounts.length>0){const r=this.paidFromAccounts.find(e=>e.account_type==="Bank");r&&(this.currentPayment.paid_from=r.name)}if(!this.currentPayment.paid_to&&this.paidFromAccounts.length>0){const r=this.paidFromAccounts.find(e=>e.account_type==="Payable");r&&(this.currentPayment.paid_to=r.name)}}},numberToWords(r){const e=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],l=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],b=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];return r===0?"Zero":r<10?e[Math.floor(r)]:r<20?l[Math.floor(r)-10]:r<100?b[Math.floor(r/10)]+(r%10!==0?" "+e[r%10]:""):r<1e3?e[Math.floor(r/100)]+" Hundred"+(r%100!==0?" "+this.numberToWords(r%100):""):r<1e5?this.numberToWords(Math.floor(r/1e3))+" Thousand"+(r%1e3!==0?" "+this.numberToWords(r%1e3):""):"Large Amount"},async savePayment(){if(!(this.isSaving||!this.isFormValid)){this.isSaving=!0;try{let r;if(this.currentPayment.name?r=await fetch("/api/method/frappe.client.save",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({doc:this.currentPayment})}):r=await fetch("/api/method/frappe.client.insert",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({doc:{doctype:"Payment Entry",...this.currentPayment}})}),r.ok){const e=await r.json();this.currentPayment.name||(this.currentPayment.name=e.message.name),this.showAlert("Payment entry saved successfully","green"),this.loadPaymentEntries(),this.closeModal()}else{const e=await r.json();throw new Error(e._server_messages||"Failed to save payment entry")}}catch(r){console.error("Error saving payment entry:",r),this.showAlert("Error saving payment entry: "+r.message,"red")}finally{this.isSaving=!1}}},async submitPayment(){if(!this.isSubmitting){this.isSubmitting=!0;try{if((await fetch("/api/method/frappe.client.set_value",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({doctype:"Payment Entry",name:this.currentPayment.name,fieldname:{status:"Submitted"}})})).ok)this.showAlert("Payment entry submitted successfully","green"),this.loadPaymentEntries(),this.closeModal();else throw new Error("Failed to submit payment entry")}catch(r){console.error("Error submitting payment entry:",r),this.showAlert("Error submitting payment entry","red")}finally{this.isSubmitting=!1}}},async deletePayment(){if(this.currentPayment.name&&confirm(`Are you sure you want to delete payment ${this.currentPayment.name}?`))try{if((await fetch("/api/method/frappe.client.delete",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({doctype:"Payment Entry",name:this.currentPayment.name})})).ok)this.showAlert("Payment entry deleted successfully","green"),this.loadPaymentEntries(),this.closeModal();else throw new Error("Failed to delete payment entry")}catch(r){console.error("Error deleting payment entry:",r),this.showAlert("Error deleting payment entry","red")}},formatCurrency(r){return new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB"}).format(r)},formatDate(r){return r?new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""},statusBadgeClasses(r){return{Draft:"bg-yellow-100 text-yellow-800",Submitted:"bg-green-100 text-green-800",Cancelled:"bg-red-100 text-red-800"}[r]||"bg-gray-100 text-gray-800"},typeBadgeClasses(r){return{Pay:"bg-red-100 text-red-800",Receive:"bg-green-100 text-green-800","Internal Transfer":"bg-blue-100 text-blue-800"}[r]||"bg-gray-100 text-gray-800"},getCSRFToken(){const r=document.querySelector('meta[name="csrf-token"]');return r?r.getAttribute("content"):""},showAlert(r,e){const l=document.createElement("div");l.className=`fixed top-4 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-lg shadow-lg z-50 ${e==="green"?"bg-green-500 text-white":"bg-red-500 text-white"}`,l.textContent=r,document.body.appendChild(l),setTimeout(()=>{document.body.removeChild(l)},3e3)}}},S={class:"min-h-screen bg-[#233d48] p-6"},k={class:"max-w-6xl mx-auto"},T={class:"bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-4 mb-6"},F={class:"flex justify-between items-center"},E={class:"flex-1 max-w-md"},A={class:"relative"},R={class:"flex space-x-3"},D={key:0,class:"bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-6"},M={class:"space-y-3"},N=["onClick"],U={class:"flex justify-between items-center"},V={class:"flex-1"},O={class:"flex items-center space-x-4"},j={class:"text-white font-semibold text-lg"},L={class:"text-gray-300 text-sm mt-2"},B={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},I={class:"ml-2"},J={class:"ml-2 text-[#8acc33] font-semibold"},q={class:"ml-2"},X={class:"ml-2"},W={class:"text-gray-400 text-xs mt-2"},G={class:"text-right"},z={class:"text-[#8acc33] font-semibold text-lg"},Q={class:"text-gray-400 text-sm"},Z={key:1,class:"text-center py-12"},H={class:"p-6 border-b border-[#2a4a58] bg-[#2a4a58]"},Y={class:"flex justify-between items-center"},K={class:"text-xl font-semibold text-white"},$={class:"p-6"},ee={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},te={class:"space-y-6"},re={class:"bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-4"},ne={class:"space-y-4"},se={value:""},ae=["value"],oe={key:0},ie={class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md bg-[#233d48] text-gray-300 text-sm space-y-1"},de={class:"space-y-6"},le={class:"bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-4"},ce={class:"space-y-4"},me={class:"block text-sm font-medium text-gray-300 mb-2"},ue={key:0},ye={class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md bg-[#233d48] text-gray-300 text-sm min-h-[42px] flex items-center"},pe={class:"bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-4"},fe={class:"space-y-4"},be={class:"block text-sm font-medium text-gray-300 mb-2"},he=["value"],ge={class:"block text-sm font-medium text-gray-300 mb-2"},ve=["value"],_e={class:"bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-4 mb-6"},Pe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},xe={class:"bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-4 mb-6"},we={class:"space-y-3"},Ce={class:"grid grid-cols-2 gap-3 mb-3"},Se=["onUpdate:modelValue"],ke=["onUpdate:modelValue"],Te={class:"grid grid-cols-2 gap-3"},Fe=["onUpdate:modelValue"],Ee={class:"flex items-end"},Ae=["onClick"],Re={class:"bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-4 mb-6"},De={class:"flex justify-end space-x-3 pt-6 border-t border-[#2a4a58]"},Me=["disabled"],Ne=["disabled"];function Ue(r,e,l,b,s,a){return d(),i("div",S,[t("div",k,[e[32]||(e[32]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-white mb-2"},"Payment Entries"),t("div",{class:"text-gray-300 text-lg mb-4"},[t("p",null,"Manage your payments and receipts efficiently")])],-1)),t("div",T,[t("div",F,[t("div",E,[t("div",A,[c(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>s.searchQuery=n),placeholder:"Search payments...",class:"w-full px-4 py-2 pl-10 border border-[#2a4a58] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white"},null,512),[[m,s.searchQuery]]),e[25]||(e[25]=t("svg",{class:"absolute left-3 top-2.5 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),t("div",R,[t("button",{onClick:e[1]||(e[1]=(...n)=>a.createNewPayment&&a.createNewPayment(...n)),class:"px-4 py-2 bg-[#8acc33] hover:bg-[#7abc22] text-white font-medium rounded-lg transition-colors duration-200"}," New Payment "),t("button",{onClick:e[2]||(e[2]=(...n)=>a.loadPaymentEntries&&a.loadPaymentEntries(...n)),class:"px-4 py-2 border border-[#8acc33] text-[#8acc33] bg-transparent hover:bg-[#2a4a58] font-medium rounded-lg transition-colors duration-200"}," Refresh ")])])]),a.filteredPayments.length>0?(d(),i("div",D,[e[30]||(e[30]=t("h3",{class:"text-xl font-semibold text-white mb-4"},"Payment Entries",-1)),t("div",M,[(d(!0),i(h,null,g(a.filteredPayments,n=>(d(),i("div",{key:n.name,class:"bg-[#233d48] rounded-lg p-4 border border-[#2a4a58] cursor-pointer hover:border-[#8acc33] transition-colors",onClick:y=>a.viewPayment(n)},[t("div",U,[t("div",V,[t("div",O,[t("div",j,o(n.name),1),t("span",{class:v([a.statusBadgeClasses(n.status),"px-2 py-1 rounded-full text-xs font-medium"])},o(n.status),3),t("span",{class:v([a.typeBadgeClasses(n.payment_type),"px-2 py-1 rounded-full text-xs font-medium"])},o(n.payment_type),3)]),t("div",L,[t("div",B,[t("div",null,[e[26]||(e[26]=t("span",{class:"text-gray-400"},"Party:",-1)),t("span",I,o(n.party_name),1)]),t("div",null,[e[27]||(e[27]=t("span",{class:"text-gray-400"},"Amount:",-1)),t("span",J,o(a.formatCurrency(n.paid_amount)),1)]),t("div",null,[e[28]||(e[28]=t("span",{class:"text-gray-400"},"Date:",-1)),t("span",q,o(a.formatDate(n.posting_date)),1)]),t("div",null,[e[29]||(e[29]=t("span",{class:"text-gray-400"},"Company:",-1)),t("span",X,o(n.company),1)])])]),t("div",W," From: "+o(n.paid_from)+" → To: "+o(n.paid_to),1)]),t("div",G,[t("div",z,o(a.formatCurrency(n.paid_amount)),1),t("div",Q,o(n.party_type),1)])])],8,N))),128))])])):u("",!0),s.paymentEntries.length===0?(d(),i("div",Z,[e[31]||(e[31]=_('<div class="text-gray-400 mb-4" data-v-ecce54af><svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ecce54af><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-ecce54af></path></svg></div><h3 class="text-xl font-semibold text-white mb-2" data-v-ecce54af>No Payment Entries</h3><p class="text-gray-400 mb-4" data-v-ecce54af>Get started by creating your first payment entry</p>',3)),t("button",{onClick:e[3]||(e[3]=(...n)=>a.createNewPayment&&a.createNewPayment(...n)),class:"px-6 py-3 bg-[#8acc33] hover:bg-[#7abc22] text-white font-medium rounded-lg transition-colors duration-200"}," Create New Payment ")])):u("",!0)]),s.showModal?(d(),i("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e[24]||(e[24]=(...n)=>a.closeModal&&a.closeModal(...n))},[t("div",{class:"bg-[#233d48] rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-[#2a4a58]",onClick:e[23]||(e[23]=w(()=>{},["stop"]))},[t("div",H,[t("div",Y,[t("h3",K,o(s.currentPayment.name||"New Payment Entry"),1),t("button",{onClick:e[4]||(e[4]=(...n)=>a.closeModal&&a.closeModal(...n)),class:"text-gray-400 hover:text-white transition-colors"},[...e[33]||(e[33]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("div",$,[t("div",ee,[t("div",te,[t("div",re,[e[41]||(e[41]=t("h4",{class:"text-lg font-semibold text-white mb-4"},"Payment Information",-1)),t("div",ne,[t("div",null,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Payment Type *",-1)),c(t("select",{"onUpdate:modelValue":e[5]||(e[5]=n=>s.currentPayment.payment_type=n),onChange:e[6]||(e[6]=(...n)=>a.handlePaymentTypeChange&&a.handlePaymentTypeChange(...n)),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",required:""},[...e[34]||(e[34]=[t("option",{value:"Pay"},"Pay",-1),t("option",{value:"Receive"},"Receive",-1),t("option",{value:"Internal Transfer"},"Internal Transfer",-1)])],544),[[f,s.currentPayment.payment_type]])]),t("div",null,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Party *",-1)),c(t("select",{"onUpdate:modelValue":e[7]||(e[7]=n=>s.currentPayment.party=n),onChange:e[8]||(e[8]=(...n)=>a.updatePartyDetails&&a.updatePartyDetails(...n)),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",required:""},[t("option",se,"Select "+o(s.currentPayment.payment_type==="Receive"?"Customer":"Supplier"),1),(d(!0),i(h,null,g(a.currentParties,n=>(d(),i("option",{key:n.name,value:n.name},o(n.name)+" - "+o(n.party_name),9,ae))),128))],544),[[f,s.currentPayment.party]])]),s.currentPayment.party?(d(),i("div",oe,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Party Details",-1)),t("div",ie,[t("div",null,[e[37]||(e[37]=t("strong",null,"Name:",-1)),P(" "+o(s.currentPayment.party_name),1)]),t("div",null,[e[38]||(e[38]=t("strong",null,"Type:",-1)),P(" "+o(s.currentPayment.party_type),1)])])])):u("",!0),t("div",null,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Posting Date *",-1)),c(t("input",{type:"date","onUpdate:modelValue":e[9]||(e[9]=n=>s.currentPayment.posting_date=n),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",required:""},null,512),[[m,s.currentPayment.posting_date]])])])])]),t("div",de,[t("div",le,[e[44]||(e[44]=t("h4",{class:"text-lg font-semibold text-white mb-4"},"Amount Details",-1)),t("div",ce,[t("div",null,[t("label",me,o(s.currentPayment.payment_type==="Receive"?"Received Amount *":"Paid Amount *"),1),c(t("input",{type:"number","onUpdate:modelValue":e[10]||(e[10]=n=>s.currentPayment.paid_amount=n),onInput:e[11]||(e[11]=(...n)=>a.updateAmountFields&&a.updateAmountFields(...n)),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white text-lg font-semibold",placeholder:"0.00",step:"0.01",required:""},null,544),[[m,s.currentPayment.paid_amount]])]),s.currentPayment.payment_type==="Receive"?(d(),i("div",ue,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Received Amount *",-1)),c(t("input",{type:"number","onUpdate:modelValue":e[12]||(e[12]=n=>s.currentPayment.received_amount=n),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",placeholder:"0.00",step:"0.01",required:""},null,512),[[m,s.currentPayment.received_amount]])])):u("",!0),t("div",null,[e[43]||(e[43]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Amount in Words",-1)),t("div",ye,o(s.currentPayment.in_words||"Zero"),1)])])]),t("div",pe,[e[47]||(e[47]=t("h4",{class:"text-lg font-semibold text-white mb-4"},"Account Details",-1)),t("div",fe,[t("div",null,[t("label",be,o((s.currentPayment.payment_type==="Receive","Paid From *")),1),c(t("select",{"onUpdate:modelValue":e[13]||(e[13]=n=>s.currentPayment.paid_from=n),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",required:""},[e[45]||(e[45]=t("option",{value:""},"Select Account",-1)),(d(!0),i(h,null,g(s.paidFromAccounts,n=>(d(),i("option",{key:n.name,value:n.name},o(n.name)+" ("+o(n.account_type)+") ",9,he))),128))],512),[[f,s.currentPayment.paid_from]])]),t("div",null,[t("label",ge,o((s.currentPayment.payment_type==="Receive","Paid To *")),1),c(t("select",{"onUpdate:modelValue":e[14]||(e[14]=n=>s.currentPayment.paid_to=n),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",required:""},[e[46]||(e[46]=t("option",{value:""},"Select Account",-1)),(d(!0),i(h,null,g(s.cashAccounts,n=>(d(),i("option",{key:n.name,value:n.name},o(n.name)+" ("+o(n.account_type)+") ",9,ve))),128))],512),[[f,s.currentPayment.paid_to]])])])])])]),t("div",_e,[e[51]||(e[51]=t("h4",{class:"text-lg font-semibold text-white mb-4"},"Payment Details",-1)),t("div",Pe,[t("div",null,[e[49]||(e[49]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Mode of Payment",-1)),c(t("select",{"onUpdate:modelValue":e[15]||(e[15]=n=>s.currentPayment.mode_of_payment=n),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white"},[...e[48]||(e[48]=[_('<option value="" data-v-ecce54af>Select Mode</option><option value="Cash" data-v-ecce54af>Cash</option><option value="Bank" data-v-ecce54af>Bank Transfer</option><option value="Cheque" data-v-ecce54af>Cheque</option><option value="Credit Card" data-v-ecce54af>Credit Card</option>',5)])],512),[[f,s.currentPayment.mode_of_payment]])]),t("div",null,[e[50]||(e[50]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Reference No",-1)),c(t("input",{type:"text","onUpdate:modelValue":e[16]||(e[16]=n=>s.currentPayment.reference_no=n),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",placeholder:"Optional"},null,512),[[m,s.currentPayment.reference_no]])])])]),t("div",xe,[e[56]||(e[56]=t("h4",{class:"text-lg font-semibold text-white mb-4"},"References",-1)),t("div",we,[(d(!0),i(h,null,g(s.currentPayment.references,(n,y)=>(d(),i("div",{key:y,class:"border border-[#2a4a58] rounded-md p-3"},[t("div",Ce,[t("div",null,[e[53]||(e[53]=t("label",{class:"block text-xs font-medium text-gray-400 mb-1"},"Reference Type",-1)),c(t("select",{"onUpdate:modelValue":p=>n.reference_doctype=p,class:"w-full px-2 py-1 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-1 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white text-sm"},[...e[52]||(e[52]=[t("option",{value:"Purchase Invoice"},"Purchase Invoice",-1),t("option",{value:"Sales Invoice"},"Sales Invoice",-1),t("option",{value:"Journal Entry"},"Journal Entry",-1)])],8,Se),[[f,n.reference_doctype]])]),t("div",null,[e[54]||(e[54]=t("label",{class:"block text-xs font-medium text-gray-400 mb-1"},"Reference Name",-1)),c(t("input",{type:"text","onUpdate:modelValue":p=>n.reference_name=p,class:"w-full px-2 py-1 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-1 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white text-sm"},null,8,ke),[[m,n.reference_name]])])]),t("div",Te,[t("div",null,[e[55]||(e[55]=t("label",{class:"block text-xs font-medium text-gray-400 mb-1"},"Amount",-1)),c(t("input",{type:"number","onUpdate:modelValue":p=>n.allocated_amount=p,class:"w-full px-2 py-1 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-1 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white text-sm",step:"0.01"},null,8,Fe),[[m,n.allocated_amount]])]),t("div",Ee,[t("button",{onClick:p=>a.removeReference(y),class:"text-red-400 hover:text-red-300 text-sm"}," Remove ",8,Ae)])])]))),128)),t("button",{onClick:e[17]||(e[17]=(...n)=>a.addReference&&a.addReference(...n)),class:"w-full px-3 py-2 border-2 border-dashed border-[#8acc33] text-[#8acc33] bg-transparent hover:bg-[#2a4a58] font-medium rounded-md transition-colors duration-200 text-sm"}," + Add Reference ")])]),t("div",Re,[e[57]||(e[57]=t("h4",{class:"text-lg font-semibold text-white mb-4"},"Remarks",-1)),c(t("textarea",{"onUpdate:modelValue":e[18]||(e[18]=n=>s.currentPayment.remarks=n),rows:"3",class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",placeholder:"Add any remarks or notes..."},null,512),[[m,s.currentPayment.remarks]])]),e[58]||(e[58]=_('<div class="bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-4 mb-6" data-v-ecce54af><h4 class="text-lg font-semibold text-white mb-3" data-v-ecce54af>Help and Documentation</h4><div class="text-gray-300 text-sm space-y-2" data-v-ecce54af><p data-v-ecce54af>• You can quickly track all your payments and receipts from this dashboard</p><p data-v-ecce54af>• Submitted payments will automatically appear in your accounting reports</p><p data-v-ecce54af>• Use references to link payments to specific invoices or documents</p></div><div class="mt-4" data-v-ecce54af><button class="text-[#8acc33] hover:text-[#7abc22] font-medium text-sm" data-v-ecce54af> Learn More About Payment Tracking → </button></div></div>',1)),t("div",De,[s.currentPayment.name&&s.currentPayment.status==="Draft"?(d(),i("button",{key:0,onClick:e[19]||(e[19]=(...n)=>a.deletePayment&&a.deletePayment(...n)),class:"px-6 py-2 border border-red-500 text-red-500 bg-transparent hover:bg-red-500 hover:text-white font-medium rounded-lg transition-colors duration-200"}," Delete ")):u("",!0),t("button",{onClick:e[20]||(e[20]=(...n)=>a.closeModal&&a.closeModal(...n)),class:"px-6 py-2 border border-gray-500 text-gray-300 hover:bg-[#2a4a58] font-medium rounded-lg transition-colors duration-200"}," Cancel "),s.currentPayment.name&&s.currentPayment.status==="Draft"?(d(),i("button",{key:1,onClick:e[21]||(e[21]=(...n)=>a.submitPayment&&a.submitPayment(...n)),disabled:s.isSubmitting,class:v(["px-6 py-2 font-medium rounded-lg transition-colors duration-200",s.isSubmitting?"bg-gray-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"])},o(s.isSubmitting?"Submitting...":"Submit"),11,Me)):u("",!0),t("button",{onClick:e[22]||(e[22]=(...n)=>a.savePayment&&a.savePayment(...n)),disabled:s.isSaving||!a.isFormValid,class:v(["px-6 py-2 font-medium rounded-lg transition-colors duration-200",s.isSaving||!a.isFormValid?"bg-gray-500 cursor-not-allowed":"bg-[#8acc33] hover:bg-[#7abc22] text-white"])},o(s.isSaving?"Saving...":s.currentPayment.name?"Update":"Save"),11,Ne)])])])])):u("",!0)])}const Oe=x(C,[["render",Ue],["__scopeId","data-v-ecce54af"]]);export{Oe as default};
//# sourceMappingURL=Expenses-0ed9c5b8.js.map
