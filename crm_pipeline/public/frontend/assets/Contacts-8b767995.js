import{_ as S}from"./ViewBreadcrumbs-ba48df9e.js";import{_ as E}from"./CustomActions-b2a14aac.js";import{C as H}from"./ContactsIcon-c8d300fb.js";import{L as T}from"./LayoutHeader-82704819.js";import{C as j}from"./ContactModal-bf7bba79.js";import{_ as G}from"./ContactsListView-d164677b.js";import{_ as I}from"./ViewControls-4524b909.js";import{d as O,f as M,t as R}from"./UserAvatar-7e2b021e.js";import{o as W}from"./organizations-f7602453.js";import{r as s,c as q,a as D,L as r,H as P,G as y,b as A,t as J,e as V,F as K,V as Q,g as p}from"./index-07f63b4e.js";import"./Icon-3ac2626d.js";import"./settings-dc117b2e.js";import"./EditIcon-d1ec43fb.js";import"./Link-9533fd53.js";import"./FieldLayout-d12c6a75.js";import"./modals-49388916.js";import"./global-080870c0.js";import"./ListBulkActions-84d4d198.js";import"./DeleteLinkedDocModal-c0fc932d.js";import"./PhoneIcon-2a8d1724.js";import"./ListFooter-a4fa878a.js";import"./TabButtons-eec5fe46.js";import"./description-99653f97.js";import"./FadedScrollableDiv-e9e34484.js";import"./IconPicker-6ee6565a.js";import"./PinIcon-7d765f3e.js";import"./DateRangePicker.vue_vue_type_script_setup_true_lang-5ca2386f.js";import"./DetailsIcon-6f15e300.js";import"./pageMeta-c6702566.js";const X={key:1,class:"flex h-full items-center justify-center"},Y={class:"flex flex-col items-center gap-3 text-xl font-medium text-ink-gray-4"},Me={__name:"Contacts",setup(Z){const{getFormattedPercent:B,getFormattedFloat:$,getFormattedCurrency:x}=O("Contact"),{getOrganization:N}=W(),m=s(!1),f=s(null),o=s({}),v=s(1),g=s(1),C=s(20),u=s(null),_=q(()=>{var i,t,d;return!((t=(i=o.value)==null?void 0:i.data)!=null&&t.data)||!["list","group_by"].includes(o.value.data.view_type)?[]:(d=o.value)==null?void 0:d.data.data.map(e=>{var k;let a={};return(k=o.value)==null||k.data.rows.forEach(l=>{var L,F,b,U;a[l]=e[l];let n=(b=(F=(L=o.value)==null?void 0:L.data.columns)==null?void 0:F.find(z=>(z.key||z.value)==l))==null?void 0:b.type;n&&["Date","Datetime"].includes(n)&&!["modified","creation"].includes(l)&&(a[l]=M(e[l],"",!0,n=="Datetime")),n&&n=="Currency"&&(a[l]=x(l,e)),n&&n=="Float"&&(a[l]=$(l,e)),n&&n=="Percent"&&(a[l]=B(l,e)),l=="full_name"?a[l]={label:e.full_name,image_label:e.full_name,image:e.image}:l=="company_name"?a[l]={label:e.company_name,logo:(U=N(e.company_name))==null?void 0:U.organization_logo}:["modified","creation"].includes(l)&&(a[l]={label:M(e[l]),timeAgo:__(R(e[l]))})}),a})});return(i,t)=>{const d=Q("Button");return p(),D(K,null,[r(T,null,{"left-header":P(()=>[r(S,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),routeName:"Contacts"},null,8,["modelValue"])]),"right-header":P(()=>{var e;return[(e=f.value)!=null&&e.customListActions?(p(),y(E,{key:0,actions:f.value.customListActions},null,8,["actions"])):V("",!0),r(d,{variant:"solid",label:i.__("Create"),iconLeft:"plus",onClick:t[1]||(t[1]=a=>m.value=!0)},null,8,["label"])]}),_:1}),r(I,{ref_key:"viewControls",ref:u,modelValue:o.value,"onUpdate:modelValue":t[2]||(t[2]=e=>o.value=e),loadMore:v.value,"onUpdate:loadMore":t[3]||(t[3]=e=>v.value=e),resizeColumn:g.value,"onUpdate:resizeColumn":t[4]||(t[4]=e=>g.value=e),updatedPageCount:C.value,"onUpdate:updatedPageCount":t[5]||(t[5]=e=>C.value=e),doctype:"Contact"},null,8,["modelValue","loadMore","resizeColumn","updatedPageCount"]),o.value.data&&_.value.length?(p(),y(G,{key:0,ref_key:"contactsListView",ref:f,modelValue:o.value.data.page_length_count,"onUpdate:modelValue":t[6]||(t[6]=e=>o.value.data.page_length_count=e),list:o.value,"onUpdate:list":t[7]||(t[7]=e=>o.value=e),rows:_.value,columns:o.value.data.columns,options:{showTooltip:!1,resizeColumn:!0,rowCount:o.value.data.row_count,totalCount:o.value.data.total_count},onLoadMore:t[8]||(t[8]=()=>v.value++),onColumnWidthUpdated:t[9]||(t[9]=()=>g.value++),onUpdatePageCount:t[10]||(t[10]=e=>C.value=e),onApplyFilter:t[11]||(t[11]=e=>u.value.applyFilter(e)),onApplyLikeFilter:t[12]||(t[12]=e=>u.value.applyLikeFilter(e)),onLikeDoc:t[13]||(t[13]=e=>u.value.likeDoc(e)),onSelectionsChanged:t[14]||(t[14]=e=>u.value.updateSelections(e))},null,8,["modelValue","list","rows","columns","options"])):o.value.data?(p(),D("div",X,[A("div",Y,[r(H,{class:"h-10 w-10"}),A("span",null,J(i.__("No {0} Found",[i.__("Contacts")])),1),r(d,{label:i.__("Create"),iconLeft:"plus",onClick:t[15]||(t[15]=e=>m.value=!0)},null,8,["label"])])])):V("",!0),m.value?(p(),y(j,{key:2,modelValue:m.value,"onUpdate:modelValue":t[16]||(t[16]=e=>m.value=e),contact:{}},null,8,["modelValue"])):V("",!0)],64)}}};export{Me as default};
//# sourceMappingURL=Contacts-8b767995.js.map
