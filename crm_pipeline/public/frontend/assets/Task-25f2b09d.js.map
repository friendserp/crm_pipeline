{"version":3,"file":"Task-25f2b09d.js","sources":["../../../../frontend/src/pages/Task.vue"],"sourcesContent":["<!-- Task.vue -->\n<template>\n  <div class=\"min-h-screen bg-[#233d48]\">\n    <!-- Loading State -->\n    <div v-if=\"loading\" class=\"flex items-center justify-center min-h-screen\">\n      <div class=\"text-white text-lg\">Loading task...</div>\n    </div>\n\n    <!-- Error State -->\n    <div v-else-if=\"error\" class=\"flex items-center justify-center min-h-screen\">\n      <div class=\"text-red-400 text-lg\">{{ error }}</div>\n    </div>\n\n    <!-- Task Content -->\n    <div v-else-if=\"task\">\n      <!-- Header -->\n      <div class=\"bg-[#233d48] border-b border-[#2a4a58]\">\n        <div class=\"container mx-auto px-6 py-4\">\n          <div class=\"flex justify-between items-center\">\n            <div class=\"flex items-center space-x-4\">\n              <button @click=\"goBack\" class=\"text-gray-300 hover:text-white\">\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\"/>\n                </svg>\n              </button>\n              <div>\n                <h1 class=\"text-2xl font-bold text-white\">{{ task.subject }}</h1>\n                <div class=\"text-sm text-gray-300 mt-1\">\n                  #{{ task.name }} ‚Ä¢ {{ task.type }}\n                </div>\n              </div>\n            </div>\n            <div class=\"flex items-center gap-3\">\n              <span class=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium capitalize\"\n                    :class=\"getStatusClass(task.status)\">\n                {{ task.status }}\n              </span>\n              <span v-if=\"isLate\" class=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-900 text-red-200\">\n                Late\n              </span>\n              <button class=\"bg-[#2E86AB] text-white px-4 py-2 rounded-lg font-medium hover:bg-[#257195] transition-colors\">\n                Edit Task\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"container mx-auto px-6 py-6\">\n        <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          <!-- Main Content -->\n          <div class=\"lg:col-span-2 space-y-6\">\n            <!-- Task Details Card -->\n            <div class=\"bg-[#2a4a58] rounded-lg border border-[#315566] p-6\">\n              <h2 class=\"text-lg font-semibold text-white mb-4\">Task Details</h2>\n              \n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <label class=\"text-sm text-gray-300 block mb-2 font-medium\">Priority</label>\n                  <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize\"\n                        :class=\"getPriorityClass(task.priority)\">\n                    {{ task.priority }}\n                  </span>\n                </div>\n                <div>\n                  <label class=\"text-sm text-gray-300 block mb-2 font-medium\">Progress</label>\n                  <div class=\"flex items-center gap-2\">\n                    <div class=\"w-full bg-[#233d48] rounded-full h-2\">\n                      <div class=\"bg-[#2E86AB] h-2 rounded-full\" :style=\"{ width: task.progress + '%' }\"></div>\n                    </div>\n                    <span class=\"text-sm text-gray-300 whitespace-nowrap\">{{ task.progress }}%</span>\n                  </div>\n                </div>\n                <div>\n                  <label class=\"text-sm text-gray-300 block mb-2 font-medium\">Expected Start</label>\n                  <div class=\"text-white\">{{ formatDate(task.exp_start_date) }}</div>\n                </div>\n                <div>\n                  <label class=\"text-sm text-gray-300 block mb-2 font-medium\">Expected End</label>\n                  <div class=\"text-white\">{{ formatDate(task.exp_end_date) }}</div>\n                </div>\n                <div>\n                  <label class=\"text-sm text-gray-300 block mb-2 font-medium\">Actual Start</label>\n                  <div class=\"text-white\">{{ formatDate(task.act_start_date) || 'Not started' }}</div>\n                </div>\n                <div>\n                  <label class=\"text-sm text-gray-300 block mb-2 font-medium\">Actual End</label>\n                  <div class=\"text-white\">{{ formatDate(task.act_end_date) || 'Not completed' }}</div>\n                </div>\n                <div class=\"md:col-span-2\">\n                  <label class=\"text-sm text-gray-300 block mb-2 font-medium\">Description</label>\n                  <div class=\"prose max-w-none text-gray-300\" v-html=\"task.description || 'No description provided'\"></div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Timesheets Card -->\n            <div class=\"bg-[#2a4a58] rounded-lg border border-[#315566] p-6\">\n              <div class=\"flex justify-between items-center mb-6\">\n                <h2 class=\"text-lg font-semibold text-white\">Timesheets</h2>\n                <button class=\"bg-[#2E86AB] text-white px-4 py-2 rounded-lg font-medium hover:bg-[#257195] transition-colors\">\n                  Add Timesheet\n                </button>\n              </div>\n              \n              <div v-if=\"taskTimesheets.length === 0\" class=\"text-center py-8 text-gray-400\">\n                No timesheets recorded for this task\n              </div>\n              \n              <div v-else class=\"space-y-4\">\n                <div v-for=\"timesheet in taskTimesheets\" :key=\"timesheet.name\" \n                     class=\"bg-[#315566] border border-[#3a6374] rounded-lg p-4 hover:border-[#2E86AB] transition-colors\">\n                  <div class=\"flex justify-between items-start mb-3\">\n                    <div>\n                      <div class=\"font-medium text-white\">{{ timesheet.name }}</div>\n                      <div class=\"text-sm text-gray-300 mt-1\">\n                        {{ formatDate(timesheet.start_date) }} - {{ formatDate(timesheet.end_date) }}\n                      </div>\n                    </div>\n                    <div class=\"flex items-center gap-2\">\n                      <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize\"\n                            :class=\"getTimesheetStatusClass(timesheet.status)\">\n                        {{ timesheet.status }}\n                      </span>\n                      <div class=\"text-right\">\n                        <div class=\"font-semibold text-white\">{{ timesheet.total_hours }} hrs</div>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <!-- Time Logs -->\n                  <div class=\"border-t border-[#3a6374] pt-3\">\n                    <div v-for=\"log in timesheet.time_logs\" :key=\"log.name\" \n                         class=\"text-sm text-gray-300 mb-2 last:mb-0\">\n                      <div class=\"flex justify-between items-center\">\n                        <div>\n                          <div class=\"font-medium\">{{ formatDateTime(log.from_time) }} - {{ formatDateTime(log.to_time) }}</div>\n                          <div v-if=\"log.activity_type\" class=\"text-gray-400 mt-1\">\n                            Activity: {{ log.activity_type }}\n                          </div>\n                          <div v-if=\"log.description\" class=\"text-gray-400 mt-1\">\n                            {{ log.description }}\n                          </div>\n                        </div>\n                        <span class=\"font-semibold text-white\">{{ log.hours }} hrs</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Sidebar -->\n          <div class=\"space-y-6\">\n            <!-- Financial Summary -->\n            <div class=\"bg-[#2a4a58] rounded-lg border border-[#315566] p-6\">\n              <h3 class=\"font-semibold text-white mb-4\">Financial Summary</h3>\n              <div class=\"space-y-3\">\n                <div class=\"flex justify-between items-center\">\n                  <span class=\"text-sm text-gray-300\">Total Billing</span>\n                  <span class=\"font-semibold text-white\">{{ formatCurrency(task.total_billing_amount) }}</span>\n                </div>\n                <div class=\"flex justify-between items-center\">\n                  <span class=\"text-sm text-gray-300\">Total Costing</span>\n                  <span class=\"font-semibold text-white\">{{ formatCurrency(task.total_costing_amount) }}</span>\n                </div>\n                <div class=\"flex justify-between items-center\">\n                  <span class=\"text-sm text-gray-300\">Actual Time</span>\n                  <span class=\"font-semibold text-white\">{{ task.actual_time || 0 }} hrs</span>\n                </div>\n                <div class=\"flex justify-between items-center\">\n                  <span class=\"text-sm text-gray-300\">Expected Time</span>\n                  <span class=\"font-semibold text-white\">{{ task.expected_time || 0 }} hrs</span>\n                </div>\n              </div>\n            </div>\n\n            <!-- Task Information -->\n            <div class=\"bg-[#2a4a58] rounded-lg border border-[#315566] p-6\">\n              <h3 class=\"font-semibold text-white mb-4\">Task Information</h3>\n              <div class=\"space-y-3 text-sm\">\n                <div class=\"flex justify-between\">\n                  <span class=\"text-gray-300\">Created</span>\n                  <span class=\"text-white\">{{ formatDateTime(task.creation) }}</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span class=\"text-gray-300\">Modified</span>\n                  <span class=\"text-white\">{{ formatDateTime(task.modified) }}</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span class=\"text-gray-300\">Company</span>\n                  <span class=\"text-white\">{{ task.company }}</span>\n                </div>\n                <div v-if=\"task.project\" class=\"flex justify-between\">\n                  <span class=\"text-gray-300\">Project</span>\n                  <span class=\"text-white\">{{ task.project }}</span>\n                </div>\n                <div v-if=\"task.depends_on_tasks\" class=\"flex justify-between\">\n                  <span class=\"text-gray-300\">Dependencies</span>\n                  <span class=\"text-white\">{{ task.depends_on_tasks }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useRoute, useRouter } from 'vue-router'\n\nexport default {\n  name: 'TaskDetail',\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    return { route, router }\n  },\n  data() {\n    return {\n      task: null,\n      timesheets: [],\n      loading: false,\n      error: null\n    }\n  },\n  computed: {\n    taskId() {\n      // Get task ID from route parameters\n      console.log('Route params:', this.route.params)\n      return this.route.params.taskId\n    },\n    taskTimesheets() {\n      // Filter timesheets that have time logs linked to this task\n      return this.timesheets.filter(ts => \n        ts.time_logs && ts.time_logs.some(log => log.task === this.taskId)\n      )\n    },\n    isLate() {\n      if (!this.task?.exp_end_date || ['Completed', 'Cancelled'].includes(this.task.status)) return false\n      const endDate = new Date(this.task.exp_end_date)\n      const now = new Date()\n      return endDate < now\n    }\n  },\n  watch: {\n    // Watch for route changes\n    '$route.params.id': {\n      handler(newId, oldId) {\n        if (newId !== oldId) {\n          this.loadData()\n        }\n      },\n      immediate: true\n    }\n  },\n  async mounted() {\n    console.log('Component mounted, taskId:', this.taskId)\n    await this.loadData()\n  },\n  methods: {\n    goBack() {\n      this.router.back()\n    },\n    \n    async loadData() {\n      this.loading = true\n      this.error = null\n      try {\n        await Promise.all([\n          this.loadTask(),\n          this.loadTimesheets()\n        ])\n      } catch (error) {\n        console.error('Error loading data:', error)\n        this.error = 'Failed to load task data'\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async loadTask() {\n      try {\n        console.log('Loading task with ID:', this.taskId)\n        \n        if (!this.taskId) {\n          throw new Error('No task ID provided in route')\n        }\n\n        // Method 1: Using frappe.client.get\n        const response = await fetch('/api/method/frappe.client.get', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-Frappe-CSRF-Token': this.getCSRFToken()\n          },\n          body: JSON.stringify({\n            doctype: 'Task',\n            name: this.taskId\n          })\n        })\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`)\n        }\n\n        const data = await response.json()\n        \n        if (data.message) {\n          this.task = data.message\n        } else {\n          // Try alternative API endpoint\n          await this.loadTaskAlternative()\n        }\n      } catch (error) {\n        console.error('Error loading task with primary method:', error)\n        // Try alternative method\n        await this.loadTaskAlternative()\n      }\n    },\n\n    async loadTaskAlternative() {\n      try {\n        // Method 2: Using direct resource endpoint\n        const response = await fetch(`/api/resource/Task/${encodeURIComponent(this.taskId)}`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-Frappe-CSRF-Token': this.getCSRFToken()\n          }\n        })\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`)\n        }\n\n        const data = await response.json()\n        this.task = data.data\n      } catch (error) {\n        console.error('Error loading task with alternative method:', error)\n        throw new Error(`Task \"${this.taskId}\" not found`)\n      }\n    },\n    \n    async loadTimesheets() {\n  try {\n    console.log(\"üîÑ Fetching all timesheets...\")\n\n    // Fetch all timesheets (basic info only)\n    const response = await fetch('/api/method/frappe.client.get_list', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': this.getCSRFToken()\n      },\n      body: JSON.stringify({\n        doctype: 'Timesheet',\n        fields: ['name', 'start_date', 'end_date', 'status', 'total_hours'],\n        limit_page_length: 100,\n        order_by: 'start_date desc'\n      })\n    })\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`)\n    }\n\n    const data = await response.json()\n    console.log(\"‚úÖ Timesheets fetched:\", data)\n\n    // Now fetch each timesheet in detail to get the time_logs\n    const timesheetDetails = await Promise.all(\n      data.message.map(async (ts) => {\n        console.log(`üîç Fetching details for Timesheet: ${ts.name}`)\n\n        const detailResponse = await fetch('/api/method/frappe.client.get', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-Frappe-CSRF-Token': this.getCSRFToken()\n          },\n          body: JSON.stringify({\n            doctype: 'Timesheet',\n            name: ts.name\n          })\n        })\n\n        if (!detailResponse.ok) {\n          console.error(`‚ùå Failed to fetch details for ${ts.name}`)\n          return null\n        }\n\n        const detailData = await detailResponse.json()\n        console.log(`üìÑ Timesheet ${ts.name} details:`, detailData)\n\n        return detailData.message\n      })\n    )\n\n    // Filter only valid results\n    const validTimesheets = timesheetDetails.filter(ts => ts !== null)\n\n    // Now filter by time_logs for this specific task\n    this.timesheets = validTimesheets.filter(ts => {\n      if (!ts.time_logs || ts.time_logs.length === 0) {\n        console.log(`‚ö†Ô∏è Timesheet ${ts.name} has no time_logs`)\n        return false\n      }\n\n      const match = ts.time_logs.some(log => log.task === this.taskId)\n      if (match) {\n        console.log(`‚úÖ Timesheet ${ts.name} contains task ${this.taskId}`)\n      } else {\n        console.log(`‚ùå Timesheet ${ts.name} does NOT contain task ${this.taskId}`)\n      }\n\n      return match\n    })\n\n    console.log(\"üéØ Final filtered timesheets:\", this.timesheets)\n\n  } catch (error) {\n    console.error('üí• Error loading timesheets:', error)\n    this.timesheets = []\n  }\n},\n\n\n    getCSRFToken() {\n      const token = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content') || ''\n      console.log('CSRF Token:', token ? 'Found' : 'Not found')\n      return token\n    },\n    \n    getStatusClass(status) {\n      const classes = {\n        'Open': 'bg-blue-900 text-blue-200',\n        'Working': 'bg-yellow-900 text-yellow-200',\n        'Completed': 'bg-green-900 text-green-200',\n        'Cancelled': 'bg-red-900 text-red-200',\n        'Overdue': 'bg-red-900 text-red-200'\n      }\n      return classes[status] || 'bg-gray-700 text-gray-300'\n    },\n    \n    getPriorityClass(priority) {\n      const classes = {\n        'Low': 'bg-green-900 text-green-200',\n        'Medium': 'bg-yellow-900 text-yellow-200',\n        'High': 'bg-orange-900 text-orange-200',\n        'Urgent': 'bg-red-900 text-red-200'\n      }\n      return classes[priority] || 'bg-gray-700 text-gray-300'\n    },\n    \n    getTimesheetStatusClass(status) {\n      const classes = {\n        'Draft': 'bg-gray-700 text-gray-300',\n        'Submitted': 'bg-blue-900 text-blue-200',\n        'Cancelled': 'bg-red-900 text-red-200'\n      }\n      return classes[status] || 'bg-gray-700 text-gray-300'\n    },\n    \n    formatDate(dateString) {\n      if (!dateString) return 'Not set'\n      try {\n        const date = new Date(dateString)\n        return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })\n      } catch {\n        return 'Invalid date'\n      }\n    },\n    \n    formatDateTime(dateTimeString) {\n      if (!dateTimeString) return 'Not set'\n      try {\n        const date = new Date(dateTimeString)\n        return date.toLocaleString('en-US', { \n          month: 'short', \n          day: 'numeric', \n          year: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      } catch {\n        return 'Invalid date'\n      }\n    },\n    \n    formatCurrency(amount) {\n      return `ETB ${parseFloat(amount || 0).toFixed(2)}`\n    }\n  }\n}\n</script>"],"names":["_sfc_main","route","useRoute","router","useRouter","ts","log","_a","newId","oldId","error","response","data","validTimesheets","detailResponse","detailData","match","token","status","priority","dateString","dateTimeString","amount","_hoisted_1","_hoisted_4","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_28","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_63","_hoisted_65","_openBlock","_createElementBlock","$data","_hoisted_2","_cache","_createElementVNode","_hoisted_3","_toDisplayString","_hoisted_5","$options","args","_hoisted_13","_normalizeStyle","_hoisted_29","_hoisted_30","_Fragment","_renderList","timesheet","_hoisted_40","_hoisted_41","_hoisted_62","_hoisted_64"],"mappings":"kHAsNA,MAAKA,EAAU,CACb,KAAM,aACN,OAAQ,CACN,MAAMC,EAAQC,EAAS,EACjBC,EAASC,EAAU,EACzB,MAAO,CAAE,MAAAH,EAAO,OAAAE,CAAO,CACxB,EACD,MAAO,CACL,MAAO,CACL,KAAM,KACN,WAAY,CAAE,EACd,QAAS,GACT,MAAO,IACT,CACD,EACD,SAAU,CACR,QAAS,CAEP,eAAQ,IAAI,gBAAiB,KAAK,MAAM,MAAM,EACvC,KAAK,MAAM,OAAO,MAC1B,EACD,gBAAiB,CAEf,OAAO,KAAK,WAAW,OAAOE,GAC5BA,EAAG,WAAaA,EAAG,UAAU,KAAKC,GAAOA,EAAI,OAAS,KAAK,MAAM,CACnE,CACD,EACD,QAAS,OACP,MAAI,GAACC,EAAA,KAAK,OAAL,MAAAA,EAAW,eAAgB,CAAC,YAAa,WAAW,EAAE,SAAS,KAAK,KAAK,MAAM,EAAU,GAC9E,IAAI,KAAK,KAAK,KAAK,YAAY,EACnC,IAAI,IAElB,CACD,EACD,MAAO,CAEL,mBAAoB,CAClB,QAAQC,EAAOC,EAAO,CAChBD,IAAUC,GACZ,KAAK,SAAS,CAEjB,EACD,UAAW,EACb,CACD,EACD,MAAM,SAAU,CACd,QAAQ,IAAI,6BAA8B,KAAK,MAAM,EACrD,MAAM,KAAK,SAAS,CACrB,EACD,QAAS,CACP,QAAS,CACP,KAAK,OAAO,KAAK,CAClB,EAED,MAAM,UAAW,CACf,KAAK,QAAU,GACf,KAAK,MAAQ,KACb,GAAI,CACF,MAAM,QAAQ,IAAI,CAChB,KAAK,SAAU,EACf,KAAK,eAAe,EACrB,CACD,OAAOC,EAAO,CACd,QAAQ,MAAM,sBAAuBA,CAAK,EAC1C,KAAK,MAAQ,0BACf,QAAU,CACR,KAAK,QAAU,EACjB,CACD,EAED,MAAM,UAAW,CACf,GAAI,CAGF,GAFA,QAAQ,IAAI,wBAAyB,KAAK,MAAM,EAE5C,CAAC,KAAK,OACR,MAAM,IAAI,MAAM,8BAA8B,EAIhD,MAAMC,EAAW,MAAM,MAAM,gCAAiC,CAC5D,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,sBAAuB,KAAK,aAAa,CAC1C,EACD,KAAM,KAAK,UAAU,CACnB,QAAS,OACT,KAAM,KAAK,OACZ,EACF,EAED,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAG1D,MAAMC,EAAO,MAAMD,EAAS,KAAK,EAE7BC,EAAK,QACP,KAAK,KAAOA,EAAK,QAGjB,MAAM,KAAK,oBAAoB,CAEjC,OAAOF,EAAO,CACd,QAAQ,MAAM,0CAA2CA,CAAK,EAE9D,MAAM,KAAK,oBAAoB,CACjC,CACD,EAED,MAAM,qBAAsB,CAC1B,GAAI,CAEF,MAAMC,EAAW,MAAM,MAAM,sBAAsB,mBAAmB,KAAK,MAAM,CAAC,GAAI,CACpF,OAAQ,MACR,QAAS,CACP,eAAgB,mBAChB,sBAAuB,KAAK,aAAa,CAC3C,EACD,EAED,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAG1D,MAAMC,EAAO,MAAMD,EAAS,KAAK,EACjC,KAAK,KAAOC,EAAK,IACjB,OAAOF,EAAO,CACd,cAAQ,MAAM,8CAA+CA,CAAK,EAC5D,IAAI,MAAM,SAAS,KAAK,MAAM,aAAa,CACnD,CACD,EAED,MAAM,gBAAiB,CACzB,GAAI,CACF,QAAQ,IAAI,+BAA+B,EAG3C,MAAMC,EAAW,MAAM,MAAM,qCAAsC,CACjE,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,sBAAuB,KAAK,aAAa,CAC1C,EACD,KAAM,KAAK,UAAU,CACnB,QAAS,YACT,OAAQ,CAAC,OAAQ,aAAc,WAAY,SAAU,aAAa,EAClE,kBAAmB,IACnB,SAAU,kBACX,EACF,EAED,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAG1D,MAAMC,EAAO,MAAMD,EAAS,KAAK,EACjC,QAAQ,IAAI,wBAAyBC,CAAI,EAgCzC,MAAMC,GA7BmB,MAAM,QAAQ,IACrCD,EAAK,QAAQ,IAAI,MAAOP,GAAO,CAC7B,QAAQ,IAAI,sCAAsCA,EAAG,IAAI,EAAE,EAE3D,MAAMS,EAAiB,MAAM,MAAM,gCAAiC,CAClE,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,sBAAuB,KAAK,aAAa,CAC1C,EACD,KAAM,KAAK,UAAU,CACnB,QAAS,YACT,KAAMT,EAAG,KACV,EACF,EAED,GAAI,CAACS,EAAe,GAClB,eAAQ,MAAM,iCAAiCT,EAAG,IAAI,EAAE,EACjD,KAGT,MAAMU,EAAa,MAAMD,EAAe,KAAK,EAC7C,eAAQ,IAAI,gBAAgBT,EAAG,IAAI,YAAaU,CAAU,EAEnDA,EAAW,QACnB,CACH,GAGyC,OAAOV,GAAMA,IAAO,IAAI,EAGjE,KAAK,WAAaQ,EAAgB,OAAOR,GAAM,CAC7C,GAAI,CAACA,EAAG,WAAaA,EAAG,UAAU,SAAW,EAC3C,eAAQ,IAAI,gBAAgBA,EAAG,IAAI,mBAAmB,EAC/C,GAGT,MAAMW,EAAQX,EAAG,UAAU,KAAKC,GAAOA,EAAI,OAAS,KAAK,MAAM,EAC/D,OACE,QAAQ,IADNU,EACU,eAAeX,EAAG,IAAI,kBAAkB,KAAK,MAAM,GAEnD,eAAeA,EAAG,IAAI,0BAA0B,KAAK,MAAM,EAFN,EAK5DW,EACR,EAED,QAAQ,IAAI,gCAAiC,KAAK,UAAU,CAE5D,OAAON,EAAO,CACd,QAAQ,MAAM,+BAAgCA,CAAK,EACnD,KAAK,WAAa,CAAC,CACrB,CACF,EAGI,cAAe,OACb,MAAMO,IAAQV,EAAA,SAAS,cAAc,yBAAyB,IAAhD,YAAAA,EAAmD,aAAa,aAAc,GAC5F,eAAQ,IAAI,cAAeU,EAAQ,QAAU,WAAW,EACjDA,CACR,EAED,eAAeC,EAAQ,CAQrB,MAPgB,CACd,KAAQ,4BACR,QAAW,gCACX,UAAa,8BACb,UAAa,0BACb,QAAW,yBACb,EACeA,CAAM,GAAK,2BAC3B,EAED,iBAAiBC,EAAU,CAOzB,MANgB,CACd,IAAO,8BACP,OAAU,gCACV,KAAQ,gCACR,OAAU,yBACZ,EACeA,CAAQ,GAAK,2BAC7B,EAED,wBAAwBD,EAAQ,CAM9B,MALgB,CACd,MAAS,4BACT,UAAa,4BACb,UAAa,yBACf,EACeA,CAAM,GAAK,2BAC3B,EAED,WAAWE,EAAY,CACrB,GAAI,CAACA,EAAY,MAAO,UACxB,GAAI,CAEF,OADa,IAAI,KAAKA,CAAU,EACpB,mBAAmB,QAAS,CAAE,MAAO,QAAS,IAAK,UAAW,KAAM,UAAW,CAC7F,MAAQ,CACN,MAAO,cACT,CACD,EAED,eAAeC,EAAgB,CAC7B,GAAI,CAACA,EAAgB,MAAO,UAC5B,GAAI,CAEF,OADa,IAAI,KAAKA,CAAc,EACxB,eAAe,QAAS,CAClC,MAAO,QACP,IAAK,UACL,KAAM,UACN,KAAM,UACN,OAAQ,UACT,CACH,MAAQ,CACN,MAAO,cACT,CACD,EAED,eAAeC,EAAQ,CACrB,MAAO,OAAO,WAAWA,GAAU,CAAC,EAAE,QAAQ,CAAC,CAAC,EAClD,CACF,CACF,EA/eOC,EAAA,CAAA,MAAM,2BAA2B,WAEhB,MAAM,0DAKH,MAAM,iDACtBC,EAAA,CAAA,MAAM,sBAAsB,YAM5BC,EAAA,CAAA,MAAM,wCAAwC,EAC5CC,EAAA,CAAA,MAAM,6BAA6B,EACjCC,EAAA,CAAA,MAAM,mCAAmC,EACvCC,EAAA,CAAA,MAAM,6BAA6B,EAOhCC,EAAA,CAAA,MAAM,+BAA+B,EACpCC,EAAA,CAAA,MAAM,4BAA4B,EAKtCC,EAAA,CAAA,MAAM,yBAAyB,WAKd,MAAM,+FAW7BC,EAAA,CAAA,MAAM,6BAA6B,EACjCC,EAAA,CAAA,MAAM,uCAAuC,EAE3CC,EAAA,CAAA,MAAM,yBAAyB,EAE7BC,EAAA,CAAA,MAAM,qDAAqD,EAGzDC,EAAA,CAAA,MAAM,uCAAuC,EAUzCC,EAAA,CAAA,MAAM,yBAAyB,EAC7BC,EAAA,CAAA,MAAM,sCAAsC,EAG3CC,EAAA,CAAA,MAAM,yCAAyC,EAKlDC,EAAA,CAAA,MAAM,YAAY,EAIlBC,EAAA,CAAA,MAAM,YAAY,EAIlBC,EAAA,CAAA,MAAM,YAAY,EAIlBC,EAAA,CAAA,MAAM,YAAY,EAEpBC,EAAA,CAAA,MAAM,eAAe,kBAQzBC,EAAA,CAAA,MAAM,qDAAqD,WAQtB,MAAM,2CAIlC,MAAM,aAGTC,EAAA,CAAA,MAAM,uCAAuC,EAEzCC,EAAA,CAAA,MAAM,wBAAwB,EAC9BC,EAAA,CAAA,MAAM,4BAA4B,EAIpCC,GAAA,CAAA,MAAM,yBAAyB,EAK7BC,GAAA,CAAA,MAAM,YAAY,EAChBC,GAAA,CAAA,MAAM,0BAA0B,EAMtCC,GAAA,CAAA,MAAM,gCAAgC,EAGlCC,GAAA,CAAA,MAAM,mCAAmC,EAErCC,GAAA,CAAA,MAAM,aAAa,YACM,MAAM,gCAGR,MAAM,sBAI9BC,GAAA,CAAA,MAAM,0BAA0B,EAU/CC,GAAA,CAAA,MAAM,WAAW,EAEfC,GAAA,CAAA,MAAM,qDAAqD,EAEzDC,GAAA,CAAA,MAAM,WAAW,EACfC,GAAA,CAAA,MAAM,mCAAmC,EAEtCC,GAAA,CAAA,MAAM,0BAA0B,EAEnCC,GAAA,CAAA,MAAM,mCAAmC,EAEtCC,GAAA,CAAA,MAAM,0BAA0B,EAEnCC,GAAA,CAAA,MAAM,mCAAmC,EAEtCC,GAAA,CAAA,MAAM,0BAA0B,EAEnCC,GAAA,CAAA,MAAM,mCAAmC,EAEtCC,GAAA,CAAA,MAAM,0BAA0B,EAMvCC,GAAA,CAAA,MAAM,qDAAqD,EAEzDC,GAAA,CAAA,MAAM,mBAAmB,EACvBC,GAAA,CAAA,MAAM,sBAAsB,EAEzBC,GAAA,CAAA,MAAM,YAAY,EAErBC,GAAA,CAAA,MAAM,sBAAsB,EAEzBC,GAAA,CAAA,MAAM,YAAY,EAErBC,GAAA,CAAA,MAAM,sBAAsB,EAEzBC,GAAA,CAAA,MAAM,YAAY,YAED,MAAM,wBAEvBC,GAAA,CAAA,MAAM,YAAY,YAEQ,MAAM,wBAEhCC,GAAA,CAAA,MAAM,YAAY,2BAtMxC,OAAAC,EAAA,EAAAC,EA8MM,MA9MNvD,EA8MM,CA5MOwD,EAAO,SAAlBF,IAAAC,EAEM,MAFNE,EAEM,CAAA,GAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CADJC,EAAqD,MAAhD,CAAA,MAAM,oBAAoB,EAAC,kBAAe,EAAA,OAIjCH,EAAK,OAArBF,IAAAC,EAEM,MAFNK,EAEM,CADJD,EAAmD,MAAnD1D,EAAmD4D,EAAdL,EAAK,KAAA,EAAA,CAAA,KAI5BA,EAAI,UAApBD,EAiMM,MAAAO,EAAA,CA/LJH,EA8BM,MA9BNzD,EA8BM,CA7BJyD,EA4BM,MA5BNxD,EA4BM,CA3BJwD,EA0BM,MA1BNvD,EA0BM,CAzBJuD,EAYM,MAZNtD,EAYM,CAXJsD,EAIS,SAAA,CAJA,4BAAOI,EAAM,QAAAA,EAAA,OAAA,GAAAC,CAAA,GAAE,MAAM,mDAC5BL,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,6BAG5EA,EAKM,MAAA,KAAA,CAJJA,EAAiE,KAAjErD,EAA6CuD,EAAAL,EAAA,KAAK,OAAO,EAAA,CAAA,EACzDG,EAEM,MAFNpD,EAAwC,KAClCsD,EAAAL,EAAA,KAAK,IAAI,EAAG,MAAMK,EAAAL,EAAA,KAAK,IAAI,EAAA,CAAA,MAIrCG,EAWM,MAXNnD,EAWM,CAVJmD,EAGO,OAAA,CAHD,SAAM,iFACEI,iBAAeP,EAAA,KAAK,MAAM,CAAA,CAAA,CACnC,EAAAK,EAAAL,EAAA,KAAK,MAAM,EAAA,CAAA,EAEJO,EAAM,YAAlBR,EAEO,OAFPU,EAAwH,QAExH,YACAP,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAES,SAFD,CAAA,MAAM,+FAA+F,EAAC,cAE9G,EAAA,WAMRA,EA8JM,MA9JNlD,EA8JM,CA7JJkD,EA4JM,MA5JNjD,EA4JM,CA1JJiD,EAoGM,MApGNhD,EAoGM,CAlGJgD,EAyCM,MAzCN/C,EAyCM,CAxCJ8C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAC,EAAmE,KAA/D,CAAA,MAAM,uCAAuC,EAAC,eAAY,EAAA,GAE9DA,EAqCM,MArCN9C,EAqCM,CApCJ8C,EAMM,MAAA,KAAA,CALJD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAA4E,QAArE,CAAA,MAAM,8CAA8C,EAAC,WAAQ,EAAA,GACpEA,EAGO,OAAA,CAHD,SAAM,qFACEI,mBAAiBP,EAAA,KAAK,QAAQ,CAAA,CAAA,CACvC,EAAAK,EAAAL,EAAA,KAAK,QAAQ,EAAA,CAAA,IAGpBG,EAQM,MAAA,KAAA,CAPJD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAA4E,QAArE,CAAA,MAAM,8CAA8C,EAAC,WAAQ,EAAA,GACpEA,EAKM,MALN7C,EAKM,CAJJ6C,EAEM,MAFN5C,EAEM,CADJ4C,EAAyF,MAAA,CAApF,MAAM,gCAAiC,MAAKO,EAAA,CAAA,MAAWV,EAAI,KAAC,SAAQ,IAAA,aAE3EG,EAAiF,OAAjF3C,EAAiF6C,EAAxBL,OAAK,QAAQ,EAAG,IAAC,CAAA,MAG9EG,EAGM,MAAA,KAAA,CAFJD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAAkF,QAA3E,CAAA,MAAM,8CAA8C,EAAC,iBAAc,EAAA,GAC1EA,EAAmE,MAAnE1C,EAAmE4C,EAAxCE,aAAWP,EAAA,KAAK,cAAc,CAAA,EAAA,CAAA,IAE3DG,EAGM,MAAA,KAAA,CAFJD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAAgF,QAAzE,CAAA,MAAM,8CAA8C,EAAC,eAAY,EAAA,GACxEA,EAAiE,MAAjEzC,EAAiE2C,EAAtCE,aAAWP,EAAA,KAAK,YAAY,CAAA,EAAA,CAAA,IAEzDG,EAGM,MAAA,KAAA,CAFJD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAAgF,QAAzE,CAAA,MAAM,8CAA8C,EAAC,eAAY,EAAA,GACxEA,EAAoF,MAApFxC,EAAoF0C,EAAzDE,aAAWP,EAAA,KAAK,cAAc,GAAA,aAAA,EAAA,CAAA,IAE3DG,EAGM,MAAA,KAAA,CAFJD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAA8E,QAAvE,CAAA,MAAM,8CAA8C,EAAC,aAAU,EAAA,GACtEA,EAAoF,MAApFvC,EAAoFyC,EAAzDE,aAAWP,EAAA,KAAK,YAAY,GAAA,eAAA,EAAA,CAAA,IAEzDG,EAGM,MAHNtC,EAGM,CAFJqC,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAC,EAA+E,QAAxE,CAAA,MAAM,8CAA8C,EAAC,cAAW,EAAA,GACvEA,EAAyG,MAAA,CAApG,MAAM,iCAAiC,UAAQH,EAAI,KAAC,aAAW,2CAM1EG,EAqDM,MArDNrC,EAqDM,eApDJqC,EAKM,MAAA,CALD,MAAM,0CAAwC,CACjDA,EAA4D,KAAxD,CAAA,MAAM,kCAAkC,EAAC,YAAU,EACvDA,EAES,SAFD,CAAA,MAAM,+FAA+F,EAAC,iBAE9G,QAGSI,EAAA,eAAe,SAAM,OAAhCR,EAEM,MAFNY,EAA+E,wCAE/E,IAEAb,IAAAC,EAwCM,MAxCNa,EAwCM,QAvCJb,EAsCMc,EAAA,KAAAC,EAtCmBP,EAAc,eAA3BQ,QAAZhB,EAsCM,MAAA,CAtCoC,IAAKgB,EAAU,KACpD,MAAM,iGACTZ,EAgBM,MAhBNpC,EAgBM,CAfJoC,EAKM,MAAA,KAAA,CAJJA,EAA8D,MAA9DnC,EAAuCqC,EAAAU,EAAU,IAAI,EAAA,CAAA,EACrDZ,EAEM,MAFNlC,EACKoC,EAAAE,EAAA,WAAWQ,EAAU,UAAU,CAAA,EAAI,MAAMV,EAAAE,EAAA,WAAWQ,EAAU,QAAQ,CAAA,EAAA,CAAA,IAG7EZ,EAQM,MARNjC,GAQM,CAPJiC,EAGO,OAAA,CAHD,SAAM,qFACEI,0BAAwBQ,EAAU,MAAM,CAAA,CAAA,CACjD,EAAAV,EAAAU,EAAU,MAAM,EAAA,CAAA,EAErBZ,EAEM,MAFNhC,GAEM,CADJgC,EAA2E,MAA3E/B,GAA2EiC,EAAlCU,EAAU,WAAW,EAAG,OAAI,CAAA,QAM3EZ,EAgBM,MAhBN9B,GAgBM,EAfJyB,EAAA,EAAA,EAAAC,EAcMc,EAda,KAAAC,EAAAC,EAAU,UAAjBxF,QAAZwE,EAcM,MAAA,CAdmC,IAAKxE,EAAI,KAC7C,MAAM,yCACT4E,EAWM,MAXN7B,GAWM,CAVJ6B,EAQM,MAAA,KAAA,CAPJA,EAAsG,MAAtG5B,GAA4B8B,EAAAE,EAAA,eAAehF,EAAI,SAAS,CAAA,EAAI,MAAM8E,EAAAE,EAAA,eAAehF,EAAI,OAAO,CAAA,EAAA,CAAA,EACjFA,EAAI,eAAfuE,EAAA,EAAAC,EAEM,MAFNiB,GAAyD,cAC1CX,EAAA9E,EAAI,aAAa,EAAA,CAAA,YAErBA,EAAI,aAAfuE,EAAA,EAAAC,EAEM,MAFNkB,GACKZ,EAAA9E,EAAI,WAAW,EAAA,CAAA,cAGtB4E,EAAiE,OAAjE3B,GAAiE6B,EAAvB9E,EAAI,KAAK,EAAG,OAAI,CAAA,iCAUxE4E,EAkDM,MAlDN1B,GAkDM,CAhDJ0B,EAoBM,MApBNzB,GAoBM,CAnBJwB,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAC,EAAgE,KAA5D,CAAA,MAAM,+BAA+B,EAAC,oBAAiB,EAAA,GAC3DA,EAiBM,MAjBNxB,GAiBM,CAhBJwB,EAGM,MAHNvB,GAGM,CAFJsB,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAC,EAAwD,OAAlD,CAAA,MAAM,uBAAuB,EAAC,gBAAa,EAAA,GACjDA,EAA6F,OAA7FtB,GAA6FwB,EAAnDE,iBAAeP,EAAA,KAAK,oBAAoB,CAAA,EAAA,CAAA,IAEpFG,EAGM,MAHNrB,GAGM,CAFJoB,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAC,EAAwD,OAAlD,CAAA,MAAM,uBAAuB,EAAC,gBAAa,EAAA,GACjDA,EAA6F,OAA7FpB,GAA6FsB,EAAnDE,iBAAeP,EAAA,KAAK,oBAAoB,CAAA,EAAA,CAAA,IAEpFG,EAGM,MAHNnB,GAGM,CAFJkB,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAC,EAAsD,OAAhD,CAAA,MAAM,uBAAuB,EAAC,cAAW,EAAA,GAC/CA,EAA6E,OAA7ElB,GAA6EoB,EAAnCL,OAAK,gBAAmB,OAAI,CAAA,IAExEG,EAGM,MAHNjB,GAGM,CAFJgB,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAC,EAAwD,OAAlD,CAAA,MAAM,uBAAuB,EAAC,gBAAa,EAAA,GACjDA,EAA+E,OAA/EhB,GAA+EkB,EAArCL,OAAK,kBAAqB,OAAI,CAAA,QAM9EG,EAwBM,MAxBNf,GAwBM,CAvBJc,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAC,EAA+D,KAA3D,CAAA,MAAM,+BAA+B,EAAC,mBAAgB,EAAA,GAC1DA,EAqBM,MArBNd,GAqBM,CApBJc,EAGM,MAHNb,GAGM,CAFJY,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAC,EAA0C,OAApC,CAAA,MAAM,eAAe,EAAC,UAAO,EAAA,GACnCA,EAAmE,OAAnEZ,GAAmEc,EAAvCE,iBAAeP,EAAA,KAAK,QAAQ,CAAA,EAAA,CAAA,IAE1DG,EAGM,MAHNX,GAGM,CAFJU,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAC,EAA2C,OAArC,CAAA,MAAM,eAAe,EAAC,WAAQ,EAAA,GACpCA,EAAmE,OAAnEV,GAAmEY,EAAvCE,iBAAeP,EAAA,KAAK,QAAQ,CAAA,EAAA,CAAA,IAE1DG,EAGM,MAHNT,GAGM,CAFJQ,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAC,EAA0C,OAApC,CAAA,MAAM,eAAe,EAAC,UAAO,EAAA,GACnCA,EAAkD,OAAlDR,GAA4BU,EAAAL,EAAA,KAAK,OAAO,EAAA,CAAA,IAE/BA,EAAA,KAAK,SAAhBF,IAAAC,EAGM,MAHNmB,GAGM,CAFJhB,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAC,EAA0C,OAApC,CAAA,MAAM,eAAe,EAAC,UAAO,EAAA,GACnCA,EAAkD,OAAlDP,GAA4BS,EAAAL,EAAA,KAAK,OAAO,EAAA,CAAA,cAE/BA,EAAA,KAAK,kBAAhBF,IAAAC,EAGM,MAHNoB,GAGM,CAFJjB,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAC,EAA+C,OAAzC,CAAA,MAAM,eAAe,EAAC,eAAY,EAAA,GACxCA,EAA2D,OAA3DN,GAA4BQ,EAAAL,EAAA,KAAK,gBAAgB,EAAA,CAAA"}