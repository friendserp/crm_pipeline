{"version":3,"file":"Welcome-095c395a.js","sources":["../../../../frontend/src/pages/Welcome.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-[#233d48] py-6 px-4\">\n    <div class=\"max-w-4xl mx-auto\">\n      <!-- Header -->\n      <div class=\"mb-8\">\n        <h1 class=\"text-2xl font-bold text-white\">{{ currentDate }}</h1>\n        <p class=\"text-gray-300\">{{ greeting }}, {{ userName }}</p>\n      </div>\n\n      <!-- Giveaway Section -->\n      <div class=\"bg-gradient-to-r from-[#233d48] to-[#1a2f38] rounded-xl p-6 text-white mb-8 shadow-lg border border-gray-600\">\n        <h2 class=\"text-xl font-bold mb-2\">GIVEAWAY</h2>\n        <p class=\"mb-4 text-gray-300\">\n          Win one of 10 awesome Marketing Prize Packs!<br>\n          Send an email campaign in Jobber by Oct. 31 to be in the running. Terms & Conditions apply.\n        </p>\n        \n        <div class=\"flex flex-wrap gap-4 mb-6\">\n          <div class=\"bg-[#2a4a58] rounded-lg p-4 text-center flex-1 min-w-[150px] border border-gray-600\">\n            <h3 class=\"font-semibold\">iPhone 17 Pro</h3>\n          </div>\n          <div class=\"bg-[#2a4a58] rounded-lg p-4 text-center flex-1 min-w-[150px] border border-gray-600\">\n            <h3 class=\"font-semibold\">Coaching Session</h3>\n          </div>\n          <div class=\"bg-[#2a4a58] rounded-lg p-4 text-center flex-1 min-w-[150px] border border-gray-600\">\n            <h3 class=\"font-semibold\">$500 Gift Card</h3>\n          </div>\n        </div>\n        \n        <button class=\"bg-[#8acc33] hover:bg-[#7bb82d] text-white font-semibold py-3 px-6 rounded-lg transition-colors\">\n          Send a Campaign\n        </button>\n      </div>\n\n      <!-- Onboarding Section -->\n      <div class=\"bg-[#2a4a58] rounded-xl p-6 mb-8 shadow border border-gray-600\">\n        <h2 class=\"text-xl font-semibold text-white mb-6\">Let's get you up and running</h2>\n        \n        <div class=\"space-y-6\">\n          <div class=\"flex items-start pb-6 border-b border-gray-600\">\n            <input type=\"checkbox\" checked disabled class=\"mt-1 mr-4 h-5 w-5 rounded border-gray-600 text-[#8acc33] bg-[#233d48]\">\n            <div>\n              <h3 class=\"font-semibold text-gray-400 line-through\">Create a Jobber account</h3>\n              <p class=\"text-gray-400 text-sm mt-1\">You're all set to start exploring Jobber</p>\n            </div>\n          </div>\n          \n          <div class=\"flex items-start pb-6 border-b border-gray-600\">\n            <input type=\"checkbox\" disabled class=\"mt-1 mr-4 h-5 w-5 rounded border-gray-600 text-[#8acc33] bg-[#233d48]\">\n            <div>\n              <h3 class=\"font-semibold text-white\">Optimize your website for visibility</h3>\n              <p class=\"text-gray-300 text-sm mt-1\">Improve CALIFORNIA CUDE+ site to attract local bin cleaning clients</p>\n            </div>\n          </div>\n          \n          <div class=\"flex items-start pb-6 border-b border-gray-600\">\n            <input type=\"checkbox\" disabled class=\"mt-1 mr-4 h-5 w-5 rounded border-gray-600 text-[#8acc33] bg-[#233d48]\">\n            <div>\n              <h3 class=\"font-semibold text-white\">Streamline your scheduling</h3>\n              <p class=\"text-gray-300 text-sm mt-1\">Schedule your bin cleaning jobs efficiently to save time</p>\n            </div>\n          </div>\n          \n          <div class=\"flex items-start\">\n            <input type=\"checkbox\" disabled class=\"mt-1 mr-4 h-5 w-5 rounded border-gray-600 text-[#8acc33] bg-[#233d48]\">\n            <div>\n              <h3 class=\"font-semibold text-white\">Simplify invoicing for faster payment</h3>\n              <p class=\"text-gray-300 text-sm mt-1\">Send professional invoices to get paid quicker and reduce admin</p>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"pt-6 mt-6 border-t border-gray-600 font-semibold text-white\">\n          Is this list helpful so far?\n        </div>\n      </div>\n\n      <!-- Appointments Section -->\n      <div class=\"bg-[#2a4a58] rounded-xl p-6 shadow border border-gray-600\">\n        <div class=\"flex justify-between items-center mb-6\">\n          <h2 class=\"text-xl font-semibold text-white\">Today's Appointments</h2>\n          <span class=\"bg-[#8acc33] text-white px-3 py-1 rounded-full text-sm font-medium\">\n            {{ todayAppointments.length }} appointments\n          </span>\n        </div>\n        \n        <!-- Loading State -->\n        <div v-if=\"loading\" class=\"flex justify-center items-center py-8\">\n          <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#8acc33]\"></div>\n        </div>\n\n        <!-- Appointments Statistics -->\n        <div v-else-if=\"todayAppointments.length > 0\" class=\"mb-6\">\n          <div class=\"overflow-x-auto\">\n            <table class=\"w-full\">\n              <thead>\n                <tr class=\"border-b border-gray-600\">\n                  <th class=\"text-left py-3 px-4 text-gray-400 font-medium\">Total</th>\n                  <th class=\"text-left py-3 px-4 text-gray-400 font-medium\">Scheduled</th>\n                  <th class=\"text-left py-3 px-4 text-gray-400 font-medium\">Confirmed</th>\n                  <th class=\"text-left py-3 px-4 text-gray-400 font-medium\">Completed</th>\n                  <th class=\"text-left py-3 px-4 text-gray-400 font-medium\">Cancelled</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr>\n                  <td class=\"py-4 px-4 font-medium text-white\">{{ todayAppointments.length }}</td>\n                  <td class=\"py-4 px-4 font-medium text-white\">{{ scheduledCount }}</td>\n                  <td class=\"py-4 px-4 font-medium text-white\">{{ confirmedCount }}</td>\n                  <td class=\"py-4 px-4 font-medium text-white\">{{ completedCount }}</td>\n                  <td class=\"py-4 px-4 font-medium text-white\">{{ cancelledCount }}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <!-- Appointments List -->\n        <div v-if=\"!loading\">\n          <div v-if=\"todayAppointments.length === 0\" class=\"text-center py-8\">\n            <p class=\"text-gray-400 mb-4\">\n              No appointments scheduled for today.\n            </p>\n            <button \n              @click=\"scheduleAppointment\"\n              class=\"bg-[#8acc33] hover:bg-[#7bb82d] text-white font-semibold py-2 px-5 rounded-lg transition-colors\"\n            >\n              Schedule an Appointment\n            </button>\n          </div>\n          \n          <div v-else class=\"space-y-4\">\n            <div \n              v-for=\"appointment in todayAppointments\" \n              :key=\"appointment.name\"\n              class=\"border border-gray-600 rounded-lg p-4 hover:border-[#8acc33] transition-colors duration-200\"\n            >\n              <div class=\"flex justify-between items-start mb-3\">\n                <div>\n                  <h3 class=\"text-white font-semibold text-lg\">\n                    Appointment with {{ appointment.appointment_with }}\n                  </h3>\n                  <p class=\"text-gray-300 text-sm mt-1\">\n                    {{ appointment.customer_name }}\n                  </p>\n                </div>\n                <span \n                  class=\"px-3 py-1 rounded-full text-xs font-medium\"\n                  :class=\"getAppointmentStatusClass(appointment.status)\"\n                >\n                  {{ appointment.status }}\n                </span>\n              </div>\n              \n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mb-3\">\n                <div>\n                  <p class=\"text-gray-400\">Time</p>\n                  <p class=\"text-white font-medium\">\n                    {{ formatTime(appointment.scheduled_time) }} - \n                    {{ formatTime(appointment.custom_scheduled_end_time) }}\n                  </p>\n                </div>\n                <div>\n                  <p class=\"text-gray-400\">Contact</p>\n                  <p class=\"text-white\">{{ appointment.customer_phone_number }}</p>\n                </div>\n              </div>\n              \n              <p class=\"text-gray-300 text-sm mb-3\" v-if=\"appointment.customer_details\">\n                {{ appointment.customer_details }}\n              </p>\n              \n              <div class=\"flex justify-between items-center pt-3 border-t border-gray-600\">\n                <span class=\"text-gray-400 text-sm\">\n                  {{ appointment.customer_email }}\n                </span>\n                <div class=\"flex space-x-2\">\n                  <button \n                    @click=\"viewAppointmentDetails(appointment.name)\"\n                    class=\"text-[#8acc33] hover:text-green-300 text-sm font-medium transition-colors\"\n                  >\n                    View Details\n                  </button>\n                  <button \n                    @click=\"editAppointment(appointment)\"\n                    class=\"text-blue-400 hover:text-blue-300 text-sm font-medium transition-colors\"\n                  >\n                    Edit\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue'\n\n// Reactive data\nconst loading = ref(false)\nconst todayAppointments = ref([])\nconst userName = ref('John') // You can fetch this from user session\n\n// Computed properties\nconst currentDate = computed(() => {\n  return new Date().toLocaleDateString('en-US', {\n    weekday: 'long',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  })\n})\n\nconst greeting = computed(() => {\n  const hour = new Date().getHours()\n  if (hour < 12) return 'Good morning'\n  if (hour < 18) return 'Good afternoon'\n  return 'Good evening'\n})\n\n// Appointment statistics\nconst scheduledCount = computed(() => {\n  return todayAppointments.value.filter(apt => apt.status === 'Scheduled').length\n})\n\nconst confirmedCount = computed(() => {\n  return todayAppointments.value.filter(apt => apt.status === 'Confirmed').length\n})\n\nconst completedCount = computed(() => {\n  return todayAppointments.value.filter(apt => apt.status === 'Completed').length\n})\n\nconst cancelledCount = computed(() => {\n  return todayAppointments.value.filter(apt => apt.status === 'Cancelled').length\n})\n\n// Methods\nconst fetchTodayAppointments = async () => {\n  loading.value = true\n  try {\n    const today = new Date().toISOString().split('T')[0] // YYYY-MM-DD\n    \n    const response = await fetch('/api/method/frappe.client.get_list', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': await getCSRFToken()\n      },\n      body: JSON.stringify({\n        doctype: 'Appointment',\n        filters: [\n          ['scheduled_time', '>=', `${today} 00:00:00`],\n          ['scheduled_time', '<=', `${today} 23:59:59`]\n        ],\n        fields: [\n          'name',\n          'appointment_with',\n          'customer_name',\n          'customer_details',\n          'customer_email',\n          'customer_phone_number',\n          'scheduled_time',\n          'custom_scheduled_end_time',\n          'status',\n          'party'\n        ],\n        order_by: 'scheduled_time asc'\n      })\n    })\n\n    if (response.ok) {\n      const data = await response.json()\n      todayAppointments.value = data.message || []\n    } else {\n      console.error('Failed to fetch appointments')\n      // Fallback to sample data\n    }\n  } catch (error) {\n    console.error('Error fetching appointments:', error)\n    // Fallback to sample data\n  } finally {\n    loading.value = false\n  }\n}\n\nconst getCSRFToken = async () => {\n  try {\n    const response = await fetch('/api/method/frappe.csrf_token.get_csrf_token')\n    const data = await response.json()\n    return data.message.csrf_token\n  } catch (error) {\n    console.error('Error getting CSRF token:', error)\n    return ''\n  }\n}\n\nconst getAppointmentStatusClass = (status) => {\n  const statusClasses = {\n    'Scheduled': 'bg-blue-500 text-white',\n    'Confirmed': 'bg-green-500 text-white',\n    'Completed': 'bg-purple-500 text-white',\n    'Cancelled': 'bg-red-500 text-white',\n    'Unverified': 'bg-yellow-500 text-white'\n  }\n  return statusClasses[status] || 'bg-gray-500 text-white'\n}\n\nconst formatTime = (dateTimeString) => {\n  if (!dateTimeString) return 'N/A'\n  return new Date(dateTimeString).toLocaleTimeString('en-US', {\n    hour: '2-digit',\n    minute: '2-digit',\n    hour12: true\n  })\n}\n\n\n\nonMounted(() => {\n  fetchTodayAppointments()\n})\n</script>\n\n<style scoped>\n/* Additional custom styles if needed */\n</style>"],"names":["loading","ref","todayAppointments","userName","currentDate","computed","greeting","hour","scheduledCount","apt","confirmedCount","completedCount","cancelledCount","fetchTodayAppointments","today","response","getCSRFToken","data","error","getAppointmentStatusClass","status","formatTime","dateTimeString","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","_hoisted_7","_cache","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_ctx","args","_hoisted_20","_Fragment","_renderList","appointment","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","viewAppointmentDetails","_hoisted_31","$event","editAppointment","_hoisted_32"],"mappings":"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"}