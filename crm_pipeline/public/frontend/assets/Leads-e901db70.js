import{M as se,aU as fe,N as ae,c as ee,aR as me,v as Le,r as M,V as q,g as l,a as r,L as i,H as g,O as d,F as le,f as Ve,G as b,n as Q,e as p,$ as oe,b as w,t as R,a4 as ve,a5 as Me,Y as de,o as $e,aY as ze,B as Re,l as Ue,a0 as X}from"./index-07f63b4e.js";import{_ as Ee}from"./ViewBreadcrumbs-ba48df9e.js";import{_ as ye,s as be}from"./statuses-969fdf55.js";import{_ as Ae}from"./CustomActions-b2a14aac.js";import{_ as Te,E as De}from"./KanbanView-e3472b5c.js";import{P as ne}from"./PhoneIcon-2a8d1724.js";import{u as Se,_ as Be,N as ce}from"./NoteModal-57ed802b.js";import{T as _e}from"./TaskIcon-ee0f7b95.js";import{C as Ie}from"./CommentIcon-52122959.js";import{I as N,u as Pe,c as qe,q as je}from"./modals-49388916.js";import{L as Oe}from"./LeadsIcon-d97be766.js";import{L as We}from"./LayoutHeader-82704819.js";import{H as pe,_ as He}from"./ListBulkActions-84d4d198.js";import{_ as Qe,a as Ke,b as Ge,c as Je,d as Ye,e as Fe}from"./DeleteLinkedDocModal-c0fc932d.js";import{b as P,D as ke,u as ge,d as Xe,f as Z,w as Ze,t as te,i as Ne}from"./UserAvatar-7e2b021e.js";import{_ as et}from"./ListFooter-a4fa878a.js";import{E as tt}from"./EditIcon-d1ec43fb.js";import{F as st}from"./FieldLayout-d12c6a75.js";import{i as at,c as lt}from"./settings-dc117b2e.js";import{T as ot}from"./TaskModal-0e11a83a.js";import{_ as nt}from"./ViewControls-4524b909.js";import{g as ut}from"./global-080870c0.js";import"./Icon-3ac2626d.js";import"./Link-9533fd53.js";import"./ArrowUpRightIcon-ea6835ba.js";import"./TabButtons-eec5fe46.js";import"./description-99653f97.js";import"./FadedScrollableDiv-e9e34484.js";import"./IconPicker-6ee6565a.js";import"./PinIcon-7d765f3e.js";import"./DateRangePicker.vue_vue_type_script_setup_true_lang-5ca2386f.js";import"./DetailsIcon-6f15e300.js";import"./pageMeta-c6702566.js";const it={key:0,class:"flex items-center"},rt={key:0},dt={key:1},ct={key:2},_t={key:3},pt=["onClick"],ft={key:1},mt={key:2,class:"truncate text-base"},vt={key:3},yt=["onClick"],bt={__name:"LeadsListView",props:se({rows:{type:Array,required:!0},columns:{type:Array,required:!0},options:{type:Object,default:()=>({selectable:!0,showTooltip:!0,resizeColumn:!1,totalCount:0,rowCount:0})}},{modelValue:{},modelModifiers:{},list:{},listModifiers:{}}),emits:se(["loadMore","updatePageCount","columnWidthUpdated","applyFilter","applyLikeFilter","likeDoc","selectionsChanged"],["update:modelValue","update:list"]),setup(C,{expose:K,emit:G}){const V=G,W=fe(),E=ae(C,"modelValue"),I=ae(C,"list"),j=ee(()=>{var n,o;return!!((o=(n=I.value.params)==null?void 0:n.filters)!=null&&o._liked_by)}),{user:A}=me();function T(n){if(n)return JSON.parse(n).includes(A)}Le(E,(n,o)=>{n!==o&&V("updatePageCount",n)});const y=M(null);return K({customListActions:ee(()=>{var n;return(n=y.value)==null?void 0:n.customListActions})}),(n,o)=>{const D=q("Button"),S=q("Badge"),$=q("FormControl");return l(),r(le,null,[i(d(Fe),{class:Q(n.$attrs.class),columns:C.columns,rows:C.rows,options:{getRowRoute:a=>({name:"Lead",params:{leadId:a.name},query:{view:d(W).query.view,viewType:d(W).params.viewType}}),selectable:C.options.selectable,showTooltip:C.options.showTooltip,resizeColumn:C.options.resizeColumn},"row-key":"name","onUpdate:selections":o[2]||(o[2]=a=>V("selectionsChanged",a))},{default:g(()=>[i(d(Qe),{class:"sm:mx-5 mx-3",onColumnWidthUpdated:o[1]||(o[1]=a=>V("columnWidthUpdated"))},{default:g(()=>[(l(!0),r(le,null,Ve(C.columns,a=>(l(),b(d(Ke),{key:a.key,item:a,onColumnWidthUpdated:v=>V("columnWidthUpdated",a)},{default:g(()=>[a.key=="_liked_by"?(l(),b(D,{key:0,variant:"ghosted",class:Q(["!h-4",j.value?"fill-red-500":"fill-white"]),onClick:o[0]||(o[0]=()=>V("applyLikeFilter"))},{default:g(()=>[i(pe,{class:"h-4 w-4"})]),_:1},8,["class"])):p("",!0)]),_:2},1032,["item","onColumnWidthUpdated"]))),128))]),_:1}),i(Ge,{rows:C.rows,doctype:"CRM Lead"},{default:g(({idx:a,column:v,item:f,row:m})=>[v.key==="_assign"?(l(),r("div",it,[i(ye,{avatars:f,size:"sm",onClick:k=>V("applyFilter",{event:k,idx:a,column:v,item:f,firstColumn:C.columns[0]})},null,8,["avatars","onClick"])])):(l(),b(d(Je),{key:1,item:f,align:v.align},{prefix:g(()=>[v.key==="status"?(l(),r("div",rt,[i(N,{class:Q(f.color)},null,8,["class"])])):v.key==="lead_name"?(l(),r("div",dt,[f.label?(l(),b(d(P),{key:0,class:"flex items-center",image:f.image,label:f.image_label,size:"sm"},null,8,["image","label"])):p("",!0)])):v.key==="lead_owner"?(l(),r("div",ct,[f.full_name?(l(),b(d(P),{key:0,class:"flex items-center",image:f.user_image,label:f.full_name,size:"sm"},null,8,["image","label"])):p("",!0)])):v.key==="mobile_no"?(l(),r("div",_t,[i(ne,{class:"h-4 w-4"})])):p("",!0)]),default:g(({label:k})=>[["modified","creation","first_response_time","first_responded_on","response_by"].includes(v.key)?(l(),r("div",{key:0,class:"truncate text-base",onClick:L=>V("applyFilter",{event:L,idx:a,column:v,item:f,firstColumn:C.columns[0]})},[i(d(oe),{text:f.label},{default:g(()=>[w("div",null,R(f.timeAgo),1)]),_:2},1032,["text"])],8,pt)):v.key==="_liked_by"?(l(),r("div",ft,[v.key=="_liked_by"?(l(),b(D,{key:0,variant:"ghosted",class:Q(T(f)?"fill-red-500":"fill-white"),onClick:ve(()=>V("likeDoc",{name:m.name,liked:T(f)}),["stop","prevent"])},{default:g(()=>[i(pe,{class:"h-4 w-4"})]),_:1},8,["class","onClick"])):p("",!0)])):v.key==="sla_status"?(l(),r("div",mt,[f.value?(l(),b(S,{key:0,variant:"subtle",theme:f.color,size:"md",label:f.value,onClick:L=>V("applyFilter",{event:L,idx:a,column:v,item:f,firstColumn:C.columns[0]})},null,8,["theme","label","onClick"])):p("",!0)])):v.type==="Check"?(l(),r("div",vt,[i($,{type:"checkbox",modelValue:f,disabled:!0,class:"text-ink-gray-9"},null,8,["modelValue"])])):(l(),r("div",{key:4,class:"truncate text-base",onClick:L=>V("applyFilter",{event:L,idx:a,column:v,item:f,firstColumn:C.columns[0]})},R(k),9,yt))]),_:2},1032,["item","align"]))]),_:1},8,["rows"]),i(d(Ye),null,{actions:g(({selections:a,unselectAll:v})=>[i(d(ke),{options:y.value.bulkActions(a,v)},{default:g(()=>[i(D,{icon:"more-horizontal",variant:"ghost"})]),_:1},8,["options"])]),_:1})]),_:1},8,["class","columns","rows","options"]),E.value?(l(),b(d(et),{key:0,class:"border-t sm:px-5 px-3 py-2",modelValue:E.value,"onUpdate:modelValue":o[3]||(o[3]=a=>E.value=a),options:{rowCount:C.options.rowCount,totalCount:C.options.totalCount},onLoadMore:o[4]||(o[4]=a=>V("loadMore"))},null,8,["modelValue","options"])):p("",!0),i(He,{ref_key:"listBulkActionsRef",ref:y,modelValue:I.value,"onUpdate:modelValue":o[5]||(o[5]=a=>I.value=a),doctype:"CRM Lead"},null,8,["modelValue"])],64)}}},kt={class:"bg-surface-modal px-4 pb-6 pt-5 sm:px-6"},gt={class:"mb-5 flex items-center justify-between"},Ct={class:"text-2xl font-semibold leading-6 text-ink-gray-9"},wt={class:"flex items-center gap-1"},xt={class:"px-4 pb-7 pt-4 sm:px-6"},ht={class:"flex flex-row-reverse gap-2"},Lt={__name:"LeadModal",props:se({defaults:Object},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(C){const K=C,{user:G}=me(),{getUser:V,isManager:W}=ge(),{getLeadStatus:E,statusOptions:I}=be(),{updateOnboardingStep:j}=Se("frappecrm"),A=ae(C,"modelValue"),T=Me(),y=M(null),n=M(!1),{document:o,triggerOnBeforeCreate:D}=Pe("CRM Lead"),S=ee(()=>{var k;let m=I("lead");return o.doc.status||(o.doc.status=(k=m==null?void 0:m[0])==null?void 0:k.value),m}),$=de({url:"crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_fields_layout",cache:["QuickEntry","CRM Lead"],params:{doctype:"CRM Lead",type:"Quick Entry"},auto:!0,transform:m=>m.forEach(k=>{k.sections.forEach(L=>{L.columns.forEach(J=>{J.fields.forEach(z=>{z.fieldname=="status"&&(z.fieldtype="Select",z.options=S.value,z.prefix=E(o.doc.status).color),z.fieldtype==="Table"&&(o.doc[z.fieldname]=[])})})})})}),a=de({url:"frappe.client.insert"});async function v(){o.doc.website&&!o.doc.website.startsWith("http")&&(o.doc.website="https://"+o.doc.website),await(D==null?void 0:D()),a.submit({doc:{doctype:"CRM Lead",...o.doc}},{validate(){if(y.value=null,!o.doc.first_name)return y.value=__("First Name is mandatory"),y.value;if(o.doc.annual_revenue){if(typeof o.doc.annual_revenue=="string")o.doc.annual_revenue=o.doc.annual_revenue.replace(/,/g,"");else if(isNaN(o.doc.annual_revenue))return y.value=__("Annual Revenue should be a number"),y.value}if(o.doc.mobile_no&&isNaN(o.doc.mobile_no.replace(/[-+() ]/g,"")))return y.value=__("Mobile No should be a number"),y.value;if(o.doc.email&&!o.doc.email.includes("@"))return y.value=__("Invalid Email"),y.value;if(!o.doc.status)return y.value=__("Status is required"),y.value;n.value=!0},onSuccess(m){ze("lead_created"),n.value=!1,A.value=!1,T.push({name:"Lead",params:{leadId:m.name}}),j("create_first_lead",!0,!1,()=>{localStorage.setItem("firstLead"+G,m.name)})},onError(m){if(n.value=!1,!m.messages){y.value=m.message;return}y.value=m.messages.join(`
`)}})}function f(){qe.value=!0,je.value={doctype:"CRM Lead"},Re(()=>A.value=!1)}return $e(()=>{var m,k,L;o.doc={no_of_employees:"1-10"},Object.assign(o.doc,K.defaults),(m=o.doc)!=null&&m.lead_owner||(o.doc.lead_owner=V().name),!((k=o.doc)!=null&&k.status)&&((L=S.value[0])!=null&&L.value)&&(o.doc.status=S.value[0].value)}),(m,k)=>{const L=q("Button"),J=q("ErrorMessage"),z=q("Dialog");return l(),b(z,{modelValue:A.value,"onUpdate:modelValue":k[1]||(k[1]=O=>A.value=O),options:{size:"3xl"}},{body:g(()=>[w("div",kt,[w("div",gt,[w("div",null,[w("h3",Ct,R(m.__("Create Lead")),1)]),w("div",wt,[d(W)()&&!d(at)?(l(),b(L,{key:0,variant:"ghost",class:"w-7",tooltip:m.__("Edit fields layout"),icon:tt,onClick:f},null,8,["tooltip"])):p("",!0),i(L,{variant:"ghost",class:"w-7",onClick:k[0]||(k[0]=O=>A.value=!1),icon:"x"})])]),w("div",null,[d($).data?(l(),b(st,{key:0,tabs:d($).data,data:d(o).doc},null,8,["tabs","data"])):p("",!0),y.value?(l(),b(J,{key:1,class:"mt-4",message:m.__(y.value)},null,8,["message"])):p("",!0)])]),w("div",xt,[w("div",ht,[i(L,{variant:"solid",label:m.__("Create"),loading:n.value,onClick:v},null,8,["label","loading"])])])]),_:1},8,["modelValue"])}}},Vt={class:"flex items-center gap-2"},Mt={key:0},$t={key:1},zt={key:2},Rt={key:3},Ut={key:4},Et={key:5,class:"truncate text-base"},At={key:6,class:"truncate text-base"},Tt={key:7,class:"truncate text-base"},Dt={key:8,class:"text-ink-gray-4"},St={key:0,class:"truncate flex items-center gap-2"},Bt={key:0},It={key:1},Pt={key:2},qt={key:3},jt={key:4,class:"truncate text-base"},Ot={key:5,class:"truncate text-base"},Wt={key:6,class:"flex items-center"},Ht={key:7,class:"truncate text-base"},Qt={class:"flex gap-2 items-center justify-between"},Kt={class:"text-ink-gray-5 flex items-center gap-1.5"},Gt={key:0},Jt={key:1},Yt={key:2},Ft={key:3},Xt={key:2,class:"flex h-full items-center justify-center"},Zt={class:"flex flex-col items-center gap-3 text-xl font-medium text-ink-gray-4"},Es={__name:"Leads",setup(C){const{getFormattedPercent:K,getFormattedFloat:G,getFormattedCurrency:V}=Xe("CRM Lead"),{makeCall:W}=ut(),{getUser:E}=ge(),{getLeadStatus:I}=be(),j=fe(),A=M(null),T=M(!1),y=Ue({}),n=M({}),o=M(1),D=M(1),S=M(20),$=M(null);function a(c,s){var x;function h(e){return e&&typeof e=="object"&&!Array.isArray(e)?e:{label:e}}return h((x=v.value)==null?void 0:x.find(e=>e.name==c)[s])}const v=ee(()=>{var c,s,h,x,e,t,_;return(s=(c=n.value)==null?void 0:c.data)!=null&&s.data?n.value.data.view_type==="group_by"?(x=(h=n.value)==null?void 0:h.data.group_by_field)!=null&&x.fieldname?f((e=n.value)==null?void 0:e.data.data,(t=n.value)==null?void 0:t.data.group_by_field,n.value.data.columns):[]:n.value.data.view_type==="kanban"?m(n.value.data.data,n.value.data.fields):k((_=n.value)==null?void 0:_.data.data,n.value.data.columns):[]});function f(c,s,h){var e;let x=[];return(e=s.options)==null||e.forEach(t=>{let _=[];t?_=c.filter(u=>u[s.fieldname]==t):_=c.filter(u=>!u[s.fieldname]);let Y={label:s.label,group:t||__(" "),collapsed:!1,rows:k(_,h)};s.fieldname=="status"&&(Y.icon=()=>{var u;return X(N,{class:(u=I(t))==null?void 0:u.color})}),x.push(Y)}),x||c}function m(c,s){let h=[];return c.forEach(x=>{var e;(e=x.data)==null||e.forEach(t=>{h.push(t)})}),k(h,s)}function k(c,s=[]){let h=n.value.data.view_type,x=h==="kanban"?"fieldname":"key",e=h==="kanban"?"fieldtype":"type";return c.map(t=>{var Y;let _={};return(Y=n.value)==null||Y.data.rows.forEach(u=>{var ue,ie;_[u]=t[u];let B=(ue=s==null?void 0:s.find(U=>(U[x]||U.value)==u))==null?void 0:ue[e];if(B&&["Date","Datetime"].includes(B)&&!["modified","creation"].includes(u)&&(_[u]=Z(t[u],"",!0,B=="Datetime")),B&&B=="Currency"&&(_[u]=V(u,t)),B&&B=="Float"&&(_[u]=G(u,t)),B&&B=="Percent"&&(_[u]=K(u,t)),u=="lead_name")_[u]={label:t.lead_name,image:t.image,image_label:t.first_name};else if(u=="organization")_[u]=t.organization;else if(u==="website")_[u]=Ze(t.website);else if(u=="status")_[u]={label:t.status,color:(ie=I(t.status))==null?void 0:ie.color};else if(u=="sla_status"){let U=t.sla_status,H=U,re=t.sla_status=="Failed"?"red":t.sla_status=="Fulfilled"?"green":"orange";U=="First Response Due"&&(U=__(te(t.response_by)),H=Z(t.response_by),new Date(t.response_by)<new Date&&(re="red")),_[u]={label:H,value:U,color:re}}else if(u=="lead_owner")_[u]={label:t.lead_owner&&E(t.lead_owner).full_name,...t.lead_owner&&E(t.lead_owner)};else if(u=="_assign"){let U=JSON.parse(t._assign||"[]");_[u]=U.map(H=>({name:H,image:E(H).user_image,label:E(H).full_name}))}else if(["modified","creation"].includes(u))_[u]={label:Z(t[u]),timeAgo:__(te(t[u]))};else if(["first_response_time","first_responded_on","response_by"].includes(u)){let U=u=="response_by"?"response_by":"first_responded_on";_[u]={label:t[U]?Z(t[U]):"",timeAgo:t[u]?u=="first_response_time"?Ne(t[u]):__(te(t[u])):""}}}),_._email_count=t._email_count,_._note_count=t._note_count,_._task_count=t._task_count,_._comment_count=t._comment_count,_})}function L(c){let s=n.value.params.column_field;s&&(y[s]=c.column.name),T.value=!0}function J(c){var x;let s=((x=a(c,"mobile_no"))==null?void 0:x.label)||"";return[{icon:X(ne,{class:"h-4 w-4"}),label:__("Make a Call"),onClick:()=>W(s),condition:()=>s&&lt.value},{icon:X(ce,{class:"h-4 w-4"}),label:__("New Note"),onClick:()=>we(c)},{icon:X(_e,{class:"h-4 w-4"}),label:__("New Task"),onClick:()=>he(c)}].filter(e=>e.condition?e.condition():!0)}const z=M(""),O=M(!1),Ce=M({title:"",content:""});function we(c){z.value=c,O.value=!0}const F=M(!1),xe=M({title:"",description:"",assigned_to:"",due_date:"",priority:"Low",status:"Backlog"});function he(c){z.value=c,F.value=!0}return(c,s)=>{const h=q("Button"),x=q("Badge");return l(),r(le,null,[i(We,null,{"left-header":g(()=>[i(Ee,{modelValue:$.value,"onUpdate:modelValue":s[0]||(s[0]=e=>$.value=e),routeName:"Leads"},null,8,["modelValue"])]),"right-header":g(()=>{var e;return[(e=A.value)!=null&&e.customListActions?(l(),b(Ae,{key:0,actions:A.value.customListActions},null,8,["actions"])):p("",!0),i(h,{variant:"solid",label:c.__("Create"),iconLeft:"plus",onClick:s[1]||(s[1]=t=>T.value=!0)},null,8,["label"])]}),_:1}),i(nt,{ref_key:"viewControls",ref:$,modelValue:n.value,"onUpdate:modelValue":s[2]||(s[2]=e=>n.value=e),loadMore:o.value,"onUpdate:loadMore":s[3]||(s[3]=e=>o.value=e),resizeColumn:D.value,"onUpdate:resizeColumn":s[4]||(s[4]=e=>D.value=e),updatedPageCount:S.value,"onUpdate:updatedPageCount":s[5]||(s[5]=e=>S.value=e),doctype:"CRM Lead",filters:{converted:0},options:{allowedViews:["list","group_by","kanban"]}},null,8,["modelValue","loadMore","resizeColumn","updatedPageCount"]),d(j).params.viewType=="kanban"?(l(),b(Te,{key:0,modelValue:n.value,"onUpdate:modelValue":s[7]||(s[7]=e=>n.value=e),options:{getRoute:e=>({name:"Lead",params:{leadId:e.name},query:{view:d(j).query.view,viewType:d(j).params.viewType}}),onNewClick:e=>L(e)},onUpdate:s[8]||(s[8]=e=>$.value.updateKanbanSettings(e)),onLoadMore:s[9]||(s[9]=e=>$.value.loadMoreKanban(e))},{title:g(({titleField:e,itemName:t})=>[w("div",Vt,[e==="status"?(l(),r("div",Mt,[i(N,{class:Q(a(t,e).color)},null,8,["class"])])):e==="organization"&&a(t,e).label?(l(),r("div",$t,[i(d(P),{class:"flex items-center",image:a(t,e).logo,label:a(t,e).label,size:"sm"},null,8,["image","label"])])):e==="lead_name"&&a(t,e).label?(l(),r("div",zt,[i(d(P),{class:"flex items-center",image:a(t,e).image,label:a(t,e).image_label,size:"sm"},null,8,["image","label"])])):e==="lead_owner"&&a(t,e).full_name?(l(),r("div",Rt,[i(d(P),{class:"flex items-center",image:a(t,e).user_image,label:a(t,e).full_name,size:"sm"},null,8,["image","label"])])):e==="mobile_no"?(l(),r("div",Ut,[i(ne,{class:"h-4 w-4"})])):p("",!0),["modified","creation","first_response_time","first_responded_on","response_by"].includes(e)?(l(),r("div",Et,[i(d(oe),{text:a(t,e).label},{default:g(()=>[w("div",null,R(a(t,e).timeAgo),1)]),_:2},1032,["text"])])):e==="sla_status"?(l(),r("div",At,[a(t,e).value?(l(),b(x,{key:0,variant:"subtle",theme:a(t,e).color,size:"md",label:a(t,e).value},null,8,["theme","label"])):p("",!0)])):a(t,e).label?(l(),r("div",Tt,R(a(t,e).label),1)):(l(),r("div",Dt,R(c.__("No Title")),1))])]),fields:g(({fieldName:e,itemName:t})=>[a(t,e).label?(l(),r("div",St,[e==="status"?(l(),r("div",Bt,[i(N,{class:Q(a(t,e).color)},null,8,["class"])])):e==="organization"&&a(t,e).label?(l(),r("div",It,[i(d(P),{class:"flex items-center",image:a(t,e).logo,label:a(t,e).label,size:"xs"},null,8,["image","label"])])):e==="lead_name"?(l(),r("div",Pt,[a(t,e).label?(l(),b(d(P),{key:0,class:"flex items-center",image:a(t,e).image,label:a(t,e).image_label,size:"xs"},null,8,["image","label"])):p("",!0)])):e==="lead_owner"?(l(),r("div",qt,[a(t,e).full_name?(l(),b(d(P),{key:0,class:"flex items-center",image:a(t,e).user_image,label:a(t,e).full_name,size:"xs"},null,8,["image","label"])):p("",!0)])):p("",!0),["modified","creation","first_response_time","first_responded_on","response_by"].includes(e)?(l(),r("div",jt,[i(d(oe),{text:a(t,e).label},{default:g(()=>[w("div",null,R(a(t,e).timeAgo),1)]),_:2},1032,["text"])])):e==="sla_status"?(l(),r("div",Ot,[a(t,e).value?(l(),b(x,{key:0,variant:"subtle",theme:a(t,e).color,size:"md",label:a(t,e).value},null,8,["theme","label"])):p("",!0)])):e==="_assign"?(l(),r("div",Wt,[i(ye,{avatars:a(t,e).label,size:"xs"},null,8,["avatars"])])):(l(),r("div",Ht,R(a(t,e).label),1))])):p("",!0)]),actions:g(({itemName:e})=>[w("div",Qt,[w("div",Kt,[i(De,{class:"h-4 w-4"}),a(e,"_email_count").label?(l(),r("span",Gt,R(a(e,"_email_count").label),1)):p("",!0),s[23]||(s[23]=w("span",{class:"text-3xl leading-[0]"}," · ",-1)),i(ce,{class:"h-4 w-4"}),a(e,"_note_count").label?(l(),r("span",Jt,R(a(e,"_note_count").label),1)):p("",!0),s[24]||(s[24]=w("span",{class:"text-3xl leading-[0]"}," · ",-1)),i(_e,{class:"h-4 w-4"}),a(e,"_task_count").label?(l(),r("span",Yt,R(a(e,"_task_count").label),1)):p("",!0),s[25]||(s[25]=w("span",{class:"text-3xl leading-[0]"}," · ",-1)),i(Ie,{class:"h-4 w-4"}),a(e,"_comment_count").label?(l(),r("span",Ft,R(a(e,"_comment_count").label),1)):p("",!0)]),i(d(ke),{class:"flex items-center gap-2",options:J(e),variant:"ghost",onClick:s[6]||(s[6]=ve(()=>{},["stop","prevent"]))},{default:g(()=>[i(h,{icon:"plus",variant:"ghost"})]),_:1},8,["options"])])]),_:1},8,["modelValue","options"])):n.value.data&&v.value.length?(l(),b(bt,{key:1,ref_key:"leadsListView",ref:A,modelValue:n.value.data.page_length_count,"onUpdate:modelValue":s[10]||(s[10]=e=>n.value.data.page_length_count=e),list:n.value,"onUpdate:list":s[11]||(s[11]=e=>n.value=e),rows:v.value,columns:n.value.data.columns,options:{showTooltip:!1,resizeColumn:!0,rowCount:n.value.data.row_count,totalCount:n.value.data.total_count},onLoadMore:s[12]||(s[12]=()=>o.value++),onColumnWidthUpdated:s[13]||(s[13]=()=>D.value++),onUpdatePageCount:s[14]||(s[14]=e=>S.value=e),onApplyFilter:s[15]||(s[15]=e=>$.value.applyFilter(e)),onApplyLikeFilter:s[16]||(s[16]=e=>$.value.applyLikeFilter(e)),onLikeDoc:s[17]||(s[17]=e=>$.value.likeDoc(e)),onSelectionsChanged:s[18]||(s[18]=e=>$.value.updateSelections(e))},null,8,["modelValue","list","rows","columns","options"])):n.value.data?(l(),r("div",Xt,[w("div",Zt,[i(Oe,{class:"h-10 w-10"}),w("span",null,R(c.__("No {0} Found",[c.__("Leads")])),1),i(h,{label:c.__("Create"),iconLeft:"plus",onClick:s[19]||(s[19]=e=>T.value=!0)},null,8,["label"])])])):p("",!0),T.value?(l(),b(Lt,{key:3,modelValue:T.value,"onUpdate:modelValue":s[20]||(s[20]=e=>T.value=e),defaults:y},null,8,["modelValue","defaults"])):p("",!0),O.value?(l(),b(Be,{key:4,modelValue:O.value,"onUpdate:modelValue":s[21]||(s[21]=e=>O.value=e),note:Ce.value,doctype:"CRM Lead",doc:z.value},null,8,["modelValue","note","doc"])):p("",!0),F.value?(l(),b(ot,{key:5,modelValue:F.value,"onUpdate:modelValue":s[22]||(s[22]=e=>F.value=e),task:xe.value,doctype:"CRM Lead",doc:z.value},null,8,["modelValue","task","doc"])):p("",!0)],64)}}};export{Es as default};
//# sourceMappingURL=Leads-e901db70.js.map
