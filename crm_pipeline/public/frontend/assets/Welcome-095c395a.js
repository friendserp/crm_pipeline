import{_ as k,r as c,c as i,o as S,a as n,b as e,t as o,d as A,e as f,F as T,f as D,g as r,n as j}from"./index-07f63b4e.js";const F={class:"min-h-screen bg-[#233d48] py-6 px-4"},N={class:"max-w-4xl mx-auto"},I={class:"mb-8"},E={class:"text-2xl font-bold text-white"},O={class:"text-gray-300"},G={class:"bg-[#2a4a58] rounded-xl p-6 shadow border border-gray-600"},J={class:"flex justify-between items-center mb-6"},L={class:"bg-[#8acc33] text-white px-3 py-1 rounded-full text-sm font-medium"},P={key:0,class:"flex justify-center items-center py-8"},V={key:1,class:"mb-6"},W={class:"overflow-x-auto"},$={class:"w-full"},R={class:"py-4 px-4 font-medium text-white"},U={class:"py-4 px-4 font-medium text-white"},z={class:"py-4 px-4 font-medium text-white"},B={class:"py-4 px-4 font-medium text-white"},M={class:"py-4 px-4 font-medium text-white"},Y={key:2},q={key:0,class:"text-center py-8"},H={key:1,class:"space-y-4"},X={class:"flex justify-between items-start mb-3"},K={class:"text-white font-semibold text-lg"},Q={class:"text-gray-300 text-sm mt-1"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mb-3"},ee={class:"text-white font-medium"},te={class:"text-white"},se={key:0,class:"text-gray-300 text-sm mb-3"},ae={class:"flex justify-between items-center pt-3 border-t border-gray-600"},oe={class:"text-gray-400 text-sm"},de={class:"flex space-x-2"},ne=["onClick"],re=["onClick"],ie={__name:"Welcome",setup(le){const l=c(!1),d=c([]),u=c("John"),b=i(()=>new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),p=i(()=>{const t=new Date().getHours();return t<12?"Good morning":t<18?"Good afternoon":"Good evening"}),h=i(()=>d.value.filter(t=>t.status==="Scheduled").length),v=i(()=>d.value.filter(t=>t.status==="Confirmed").length),x=i(()=>d.value.filter(t=>t.status==="Completed").length),g=i(()=>d.value.filter(t=>t.status==="Cancelled").length),y=async()=>{l.value=!0;try{const t=new Date().toISOString().split("T")[0],s=await fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":await _()},body:JSON.stringify({doctype:"Appointment",filters:[["scheduled_time",">=",`${t} 00:00:00`],["scheduled_time","<=",`${t} 23:59:59`]],fields:["name","appointment_with","customer_name","customer_details","customer_email","customer_phone_number","scheduled_time","custom_scheduled_end_time","status","party"],order_by:"scheduled_time asc"})});if(s.ok){const a=await s.json();d.value=a.message||[]}else console.error("Failed to fetch appointments")}catch(t){console.error("Error fetching appointments:",t)}finally{l.value=!1}},_=async()=>{try{return(await(await fetch("/api/method/frappe.csrf_token.get_csrf_token")).json()).message.csrf_token}catch(t){return console.error("Error getting CSRF token:",t),""}},w=t=>({Scheduled:"bg-blue-500 text-white",Confirmed:"bg-green-500 text-white",Completed:"bg-purple-500 text-white",Cancelled:"bg-red-500 text-white",Unverified:"bg-yellow-500 text-white"})[t]||"bg-gray-500 text-white",m=t=>t?new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A";return S(()=>{y()}),(t,s)=>(r(),n("div",F,[e("div",N,[e("div",I,[e("h1",E,o(b.value),1),e("p",O,o(p.value)+", "+o(u.value),1)]),s[7]||(s[7]=A('<div class="bg-gradient-to-r from-[#233d48] to-[#1a2f38] rounded-xl p-6 text-white mb-8 shadow-lg border border-gray-600" data-v-1c9fefb2><h2 class="text-xl font-bold mb-2" data-v-1c9fefb2>GIVEAWAY</h2><p class="mb-4 text-gray-300" data-v-1c9fefb2> Win one of 10 awesome Marketing Prize Packs!<br data-v-1c9fefb2> Send an email campaign in Jobber by Oct. 31 to be in the running. Terms &amp; Conditions apply. </p><div class="flex flex-wrap gap-4 mb-6" data-v-1c9fefb2><div class="bg-[#2a4a58] rounded-lg p-4 text-center flex-1 min-w-[150px] border border-gray-600" data-v-1c9fefb2><h3 class="font-semibold" data-v-1c9fefb2>iPhone 17 Pro</h3></div><div class="bg-[#2a4a58] rounded-lg p-4 text-center flex-1 min-w-[150px] border border-gray-600" data-v-1c9fefb2><h3 class="font-semibold" data-v-1c9fefb2>Coaching Session</h3></div><div class="bg-[#2a4a58] rounded-lg p-4 text-center flex-1 min-w-[150px] border border-gray-600" data-v-1c9fefb2><h3 class="font-semibold" data-v-1c9fefb2>$500 Gift Card</h3></div></div><button class="bg-[#8acc33] hover:bg-[#7bb82d] text-white font-semibold py-3 px-6 rounded-lg transition-colors" data-v-1c9fefb2> Send a Campaign </button></div><div class="bg-[#2a4a58] rounded-xl p-6 mb-8 shadow border border-gray-600" data-v-1c9fefb2><h2 class="text-xl font-semibold text-white mb-6" data-v-1c9fefb2>Let&#39;s get you up and running</h2><div class="space-y-6" data-v-1c9fefb2><div class="flex items-start pb-6 border-b border-gray-600" data-v-1c9fefb2><input type="checkbox" checked disabled class="mt-1 mr-4 h-5 w-5 rounded border-gray-600 text-[#8acc33] bg-[#233d48]" data-v-1c9fefb2><div data-v-1c9fefb2><h3 class="font-semibold text-gray-400 line-through" data-v-1c9fefb2>Create a Jobber account</h3><p class="text-gray-400 text-sm mt-1" data-v-1c9fefb2>You&#39;re all set to start exploring Jobber</p></div></div><div class="flex items-start pb-6 border-b border-gray-600" data-v-1c9fefb2><input type="checkbox" disabled class="mt-1 mr-4 h-5 w-5 rounded border-gray-600 text-[#8acc33] bg-[#233d48]" data-v-1c9fefb2><div data-v-1c9fefb2><h3 class="font-semibold text-white" data-v-1c9fefb2>Optimize your website for visibility</h3><p class="text-gray-300 text-sm mt-1" data-v-1c9fefb2>Improve CALIFORNIA CUDE+ site to attract local bin cleaning clients</p></div></div><div class="flex items-start pb-6 border-b border-gray-600" data-v-1c9fefb2><input type="checkbox" disabled class="mt-1 mr-4 h-5 w-5 rounded border-gray-600 text-[#8acc33] bg-[#233d48]" data-v-1c9fefb2><div data-v-1c9fefb2><h3 class="font-semibold text-white" data-v-1c9fefb2>Streamline your scheduling</h3><p class="text-gray-300 text-sm mt-1" data-v-1c9fefb2>Schedule your bin cleaning jobs efficiently to save time</p></div></div><div class="flex items-start" data-v-1c9fefb2><input type="checkbox" disabled class="mt-1 mr-4 h-5 w-5 rounded border-gray-600 text-[#8acc33] bg-[#233d48]" data-v-1c9fefb2><div data-v-1c9fefb2><h3 class="font-semibold text-white" data-v-1c9fefb2>Simplify invoicing for faster payment</h3><p class="text-gray-300 text-sm mt-1" data-v-1c9fefb2>Send professional invoices to get paid quicker and reduce admin</p></div></div></div><div class="pt-6 mt-6 border-t border-gray-600 font-semibold text-white" data-v-1c9fefb2> Is this list helpful so far? </div></div>',2)),e("div",G,[e("div",J,[s[1]||(s[1]=e("h2",{class:"text-xl font-semibold text-white"},"Today's Appointments",-1)),e("span",L,o(d.value.length)+" appointments ",1)]),l.value?(r(),n("div",P,[...s[2]||(s[2]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#8acc33]"},null,-1)])])):d.value.length>0?(r(),n("div",V,[e("div",W,[e("table",$,[s[3]||(s[3]=e("thead",null,[e("tr",{class:"border-b border-gray-600"},[e("th",{class:"text-left py-3 px-4 text-gray-400 font-medium"},"Total"),e("th",{class:"text-left py-3 px-4 text-gray-400 font-medium"},"Scheduled"),e("th",{class:"text-left py-3 px-4 text-gray-400 font-medium"},"Confirmed"),e("th",{class:"text-left py-3 px-4 text-gray-400 font-medium"},"Completed"),e("th",{class:"text-left py-3 px-4 text-gray-400 font-medium"},"Cancelled")])],-1)),e("tbody",null,[e("tr",null,[e("td",R,o(d.value.length),1),e("td",U,o(h.value),1),e("td",z,o(v.value),1),e("td",B,o(x.value),1),e("td",M,o(g.value),1)])])])])])):f("",!0),l.value?f("",!0):(r(),n("div",Y,[d.value.length===0?(r(),n("div",q,[s[4]||(s[4]=e("p",{class:"text-gray-400 mb-4"}," No appointments scheduled for today. ",-1)),e("button",{onClick:s[0]||(s[0]=(...a)=>t.scheduleAppointment&&t.scheduleAppointment(...a)),class:"bg-[#8acc33] hover:bg-[#7bb82d] text-white font-semibold py-2 px-5 rounded-lg transition-colors"}," Schedule an Appointment ")])):(r(),n("div",H,[(r(!0),n(T,null,D(d.value,a=>(r(),n("div",{key:a.name,class:"border border-gray-600 rounded-lg p-4 hover:border-[#8acc33] transition-colors duration-200"},[e("div",X,[e("div",null,[e("h3",K," Appointment with "+o(a.appointment_with),1),e("p",Q,o(a.customer_name),1)]),e("span",{class:j(["px-3 py-1 rounded-full text-xs font-medium",w(a.status)])},o(a.status),3)]),e("div",Z,[e("div",null,[s[5]||(s[5]=e("p",{class:"text-gray-400"},"Time",-1)),e("p",ee,o(m(a.scheduled_time))+" - "+o(m(a.custom_scheduled_end_time)),1)]),e("div",null,[s[6]||(s[6]=e("p",{class:"text-gray-400"},"Contact",-1)),e("p",te,o(a.customer_phone_number),1)])]),a.customer_details?(r(),n("p",se,o(a.customer_details),1)):f("",!0),e("div",ae,[e("span",oe,o(a.customer_email),1),e("div",de,[e("button",{onClick:C=>t.viewAppointmentDetails(a.name),class:"text-[#8acc33] hover:text-green-300 text-sm font-medium transition-colors"}," View Details ",8,ne),e("button",{onClick:C=>t.editAppointment(a),class:"text-blue-400 hover:text-blue-300 text-sm font-medium transition-colors"}," Edit ",8,re)])])]))),128))]))]))])])]))}},fe=k(ie,[["__scopeId","data-v-1c9fefb2"]]);export{fe as default};
//# sourceMappingURL=Welcome-095c395a.js.map
