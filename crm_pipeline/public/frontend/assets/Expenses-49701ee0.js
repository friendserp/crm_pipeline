import{_ as P,m as i,M as t,G as d,a3 as u,F as g,B as h,q as p,a2 as x,N as a,a1 as f,p as v,a4 as _,l}from"./index-d54876c1.js";const w={name:"PaymentEntriesPage",data(){return{searchQuery:"",paymentEntries:[],showModal:!1,currentPayment:this.createEmptyPayment(),cashAccounts:[],paidFromAccounts:[],isSaving:!1,isSubmitting:!1}},computed:{filteredPayments(){if(!this.searchQuery)return this.paymentEntries;const n=this.searchQuery.toLowerCase();return this.paymentEntries.filter(e=>{var c,b,o,s,r,m;return((c=e.name)==null?void 0:c.toLowerCase().includes(n))||((b=e.party_name)==null?void 0:b.toLowerCase().includes(n))||((o=e.payment_type)==null?void 0:o.toLowerCase().includes(n))||((s=e.status)==null?void 0:s.toLowerCase().includes(n))||((r=e.paid_from)==null?void 0:r.toLowerCase().includes(n))||((m=e.paid_to)==null?void 0:m.toLowerCase().includes(n))})},isFormValid(){const n=[this.currentPayment.payment_type,this.currentPayment.party_type,this.currentPayment.party,this.currentPayment.posting_date,this.currentPayment.paid_amount,this.currentPayment.paid_from,this.currentPayment.paid_to];return this.currentPayment.payment_type==="Receive"&&n.push(this.currentPayment.received_amount),n.every(e=>e&&e.toString().trim()!=="")}},mounted(){this.loadPaymentEntries(),this.loadCashAccounts(),this.loadPaidFromAccounts()},methods:{createEmptyPayment(){return{name:null,payment_type:"Pay",party_type:"Supplier",party:"",party_name:"",posting_date:new Date().toISOString().split("T")[0],paid_amount:0,received_amount:0,paid_from:"",paid_to:"",mode_of_payment:"",reference_no:"",reference_date:new Date().toISOString().split("T")[0],remarks:"",company:"Friends ERP (Demo)",status:"Draft",references:[],in_words:""}},createEmptyReference(){return{reference_doctype:"Purchase Invoice",reference_name:"",allocated_amount:0,total_amount:0}},addReference(){this.currentPayment.references.push(this.createEmptyReference())},removeReference(n){this.currentPayment.references.splice(n,1)},updateAmountFields(){this.currentPayment.payment_type==="Receive"&&(this.currentPayment.received_amount=this.currentPayment.paid_amount),this.updateAmountInWords()},updateAmountInWords(){const n=this.currentPayment.paid_amount;n&&n>0?this.currentPayment.in_words=`ETB ${this.numberToWords(n)} only.`:this.currentPayment.in_words="Zero"},async loadCashAccounts(){try{const n=await fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({doctype:"Account",fields:["name","account_type","account_name"],filters:[["account_type","=","Cash"],["is_group","=",0],["company","=","Friends ERP (Demo)"]],order_by:"name"})});if(n.ok){const e=await n.json();this.cashAccounts=e.message}else this.cashAccounts=[{name:"Cash - FED",account_type:"Cash",account_name:"Cash"},{name:"Petty Cash - FED",account_type:"Cash",account_name:"Petty Cash"}]}catch(n){console.error("Error loading cash accounts:",n),this.cashAccounts=[{name:"Cash - FED",account_type:"Cash",account_name:"Cash"},{name:"Petty Cash - FED",account_type:"Cash",account_name:"Petty Cash"}]}},async loadPaidFromAccounts(){try{const n=await fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({doctype:"Account",fields:["name","account_type","account_name"],filters:[["company","=","Friends ERP (Demo)"],["is_group","=",0]],order_by:"name"})});if(n.ok){const e=await n.json();this.paidFromAccounts=e.message}else this.paidFromAccounts=[{name:"Debtors - FED",account_type:"Receivable",account_name:"Debtors"},{name:"Creditors - FED",account_type:"Payable",account_name:"Creditors"},{name:"Demo Bank Account - FED",account_type:"Bank",account_name:"Demo Bank Account"}]}catch(n){console.error("Error loading paid from accounts:",n),this.paidFromAccounts=[{name:"Debtors - FED",account_type:"Receivable",account_name:"Debtors"},{name:"Creditors - FED",account_type:"Payable",account_name:"Creditors"}]}},async loadPaymentEntries(){try{const n=await fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({doctype:"Payment Entry",fields:["*"],order_by:"creation desc",limit:50})});if(n.ok){const e=await n.json();this.paymentEntries=e.message}else throw new Error("Failed to load payment entries")}catch(n){console.error("Error loading payment entries:",n),this.paymentEntries=[{name:"ACC-PAY-2025-00006",payment_type:"Receive",party_type:"Customer",party_name:"Grant Plastics Ltd.",posting_date:"2025-10-07",paid_amount:1200,received_amount:1200,paid_from:"Debtors - FED",paid_to:"Cash - FED",status:"Submitted",company:"Friends ERP (Demo)",in_words:"ETB One Thousand, Two Hundred only.",remarks:"Amount ETB 1200 received from Grant Plastics Ltd.",references:[]}]}},createNewPayment(){this.currentPayment=this.createEmptyPayment(),this.showModal=!0},viewPayment(n){this.currentPayment=JSON.parse(JSON.stringify(n)),this.showModal=!0},closeModal(){this.showModal=!1,this.currentPayment=this.createEmptyPayment()},handlePaymentTypeChange(){if(this.currentPayment.payment_type==="Receive"){if(!this.currentPayment.paid_from&&this.paidFromAccounts.length>0){const n=this.paidFromAccounts.find(e=>e.account_type==="Receivable");n&&(this.currentPayment.paid_from=n.name)}!this.currentPayment.paid_to&&this.cashAccounts.length>0&&(this.currentPayment.paid_to=this.cashAccounts[0].name),this.currentPayment.received_amount=this.currentPayment.paid_amount}else if(this.currentPayment.payment_type==="Pay"){if(!this.currentPayment.paid_from&&this.paidFromAccounts.length>0){const n=this.paidFromAccounts.find(e=>e.account_type==="Bank");n&&(this.currentPayment.paid_from=n.name)}if(!this.currentPayment.paid_to&&this.paidFromAccounts.length>0){const n=this.paidFromAccounts.find(e=>e.account_type==="Payable");n&&(this.currentPayment.paid_to=n.name)}}},numberToWords(n){const e=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],c=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],b=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];return n===0?"Zero":n<10?e[Math.floor(n)]:n<20?c[Math.floor(n)-10]:n<100?b[Math.floor(n/10)]+(n%10!==0?" "+e[n%10]:""):n<1e3?e[Math.floor(n/100)]+" Hundred"+(n%100!==0?" "+this.numberToWords(n%100):""):n<1e5?this.numberToWords(Math.floor(n/1e3))+" Thousand"+(n%1e3!==0?" "+this.numberToWords(n%1e3):""):"Large Amount"},async savePayment(){if(!(this.isSaving||!this.isFormValid)){this.isSaving=!0;try{if(this.currentPayment.name)await this.updatePaymentFields();else{const n=await fetch("/api/method/frappe.client.insert",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({doc:{doctype:"Payment Entry",...this.currentPayment}})});if(n.ok){const e=await n.json();this.currentPayment.name=e.message.name,this.showAlert("Payment entry created successfully","green"),this.loadPaymentEntries(),this.closeModal()}else{const e=await n.json();throw new Error(e._server_messages||"Failed to create payment entry")}}}catch(n){console.error("Error saving payment entry:",n),this.showAlert("Error saving payment entry: "+n.message,"red")}finally{this.isSaving=!1}}},async updatePaymentFields(){try{const n={payment_type:this.currentPayment.payment_type,party_type:this.currentPayment.party_type,party:this.currentPayment.party,party_name:this.currentPayment.party,posting_date:this.currentPayment.posting_date,paid_amount:this.currentPayment.paid_amount,received_amount:this.currentPayment.received_amount,paid_from:this.currentPayment.paid_from,paid_to:this.currentPayment.paid_to,mode_of_payment:this.currentPayment.mode_of_payment,reference_no:this.currentPayment.reference_no,remarks:this.currentPayment.remarks,in_words:this.currentPayment.in_words};for(const[e,c]of Object.entries(n))await fetch("/api/method/frappe.client.set_value",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({doctype:"Payment Entry",name:this.currentPayment.name,fieldname:{[e]:c}})});this.currentPayment.references&&this.currentPayment.references.length>0&&console.log("References update would require more complex handling"),this.showAlert("Payment entry updated successfully","green"),this.loadPaymentEntries(),this.closeModal()}catch(n){throw console.error("Error updating payment entry:",n),new Error("Failed to update payment entry: "+n.message)}},async submitPayment(){if(!(this.isSubmitting||!this.currentPayment.name)){this.isSubmitting=!0;try{this.hasChanges&&await this.updatePaymentFields();const n=await fetch("/api/method/frappe.client.set_value",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({doctype:"Payment Entry",name:this.currentPayment.name,fieldname:{status:"Submitted"}})});if(n.ok)this.showAlert("Payment entry submitted successfully","green"),this.loadPaymentEntries(),this.closeModal();else{const e=await n.json();throw new Error(e._server_messages||"Failed to submit payment entry")}}catch(n){console.error("Error submitting payment entry:",n),this.showAlert("Error submitting payment entry: "+n.message,"red")}finally{this.isSubmitting=!1}}},async deletePayment(){if(this.currentPayment.name&&confirm(`Are you sure you want to delete payment ${this.currentPayment.name}?`))try{if((await fetch("/api/method/frappe.client.delete",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({doctype:"Payment Entry",name:this.currentPayment.name})})).ok)this.showAlert("Payment entry deleted successfully","green"),this.loadPaymentEntries(),this.closeModal();else throw new Error("Failed to delete payment entry")}catch(n){console.error("Error deleting payment entry:",n),this.showAlert("Error deleting payment entry","red")}},formatCurrency(n){return new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB"}).format(n)},formatDate(n){return n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""},statusBadgeClasses(n){return{Draft:"bg-yellow-100 text-yellow-800",Submitted:"bg-green-100 text-green-800",Cancelled:"bg-red-100 text-red-800"}[n]||"bg-gray-100 text-gray-800"},typeBadgeClasses(n){return{Pay:"bg-red-100 text-red-800",Receive:"bg-green-100 text-green-800","Internal Transfer":"bg-blue-100 text-blue-800"}[n]||"bg-gray-100 text-gray-800"},getCSRFToken(){const n=document.querySelector('meta[name="csrf-token"]');return n?n.getAttribute("content"):""},showAlert(n,e){const c=document.createElement("div");c.className=`fixed top-4 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-lg shadow-lg z-50 ${e==="green"?"bg-green-500 text-white":"bg-red-500 text-white"}`,c.textContent=n,document.body.appendChild(c),setTimeout(()=>{document.body.removeChild(c)},3e3)}}},C={class:"min-h-screen bg-[#233d48] p-6"},k={class:"max-w-6xl mx-auto"},S={class:"bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-4 mb-6"},E={class:"flex justify-between items-center"},F={class:"flex-1 max-w-md"},T={class:"relative"},A={class:"flex space-x-3"},R={key:0,class:"bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-6"},D={class:"space-y-3"},M=["onClick"],N={class:"flex justify-between items-center"},V={class:"flex-1"},j={class:"flex items-center space-x-4"},O={class:"text-white font-semibold text-lg"},U={class:"text-gray-300 text-sm mt-2"},B={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},q={class:"ml-2"},I={class:"ml-2 text-[#8acc33] font-semibold"},L={class:"ml-2"},J={class:"ml-2"},W={class:"text-gray-400 text-xs mt-2"},X={class:"text-right"},z={class:"text-[#8acc33] font-semibold text-lg"},Q={class:"text-gray-400 text-sm"},G={key:1,class:"text-center py-12"},H={class:"p-6 border-b border-[#2a4a58] bg-[#2a4a58]"},Z={class:"flex justify-between items-center"},Y={class:"text-xl font-semibold text-white"},K={class:"p-6"},$={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},ee={class:"space-y-6"},te={class:"bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-4"},ne={class:"space-y-4"},re={class:"space-y-6"},oe={class:"bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-4"},se={class:"space-y-4"},ae={class:"block text-sm font-medium text-gray-300 mb-2"},ie={key:0},de={class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md bg-[#233d48] text-gray-300 text-sm min-h-[42px] flex items-center"},le={class:"bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-4"},ce={class:"space-y-4"},ue={class:"block text-sm font-medium text-gray-300 mb-2"},me=["value"],ye={class:"block text-sm font-medium text-gray-300 mb-2"},pe=["value"],fe={class:"bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-4 mb-6"},be={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ge={class:"bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-4 mb-6"},he={class:"space-y-3"},ve={class:"grid grid-cols-2 gap-3 mb-3"},xe=["onUpdate:modelValue"],Pe=["onUpdate:modelValue"],_e={class:"grid grid-cols-2 gap-3"},we=["onUpdate:modelValue"],Ce={class:"flex items-end"},ke=["onClick"],Se={class:"bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-4 mb-6"},Ee={class:"flex justify-end space-x-3 pt-6 border-t border-[#2a4a58]"},Fe=["disabled"],Te=["disabled"];function Ae(n,e,c,b,o,s){return l(),i("div",C,[t("div",k,[e[32]||(e[32]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-white mb-2"},"Payment Entries"),t("div",{class:"text-gray-300 text-lg mb-4"},[t("p",null,"Manage your payments and receipts efficiently")])],-1)),t("div",S,[t("div",E,[t("div",F,[t("div",T,[d(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>o.searchQuery=r),placeholder:"Search payments...",class:"w-full px-4 py-2 pl-10 border border-[#2a4a58] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white"},null,512),[[u,o.searchQuery]]),e[25]||(e[25]=t("svg",{class:"absolute left-3 top-2.5 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),t("div",A,[t("button",{onClick:e[1]||(e[1]=(...r)=>s.createNewPayment&&s.createNewPayment(...r)),class:"px-4 py-2 bg-[#8acc33] hover:bg-[#7abc22] text-white font-medium rounded-lg transition-colors duration-200"}," New Payment "),t("button",{onClick:e[2]||(e[2]=(...r)=>s.loadPaymentEntries&&s.loadPaymentEntries(...r)),class:"px-4 py-2 border border-[#8acc33] text-[#8acc33] bg-transparent hover:bg-[#2a4a58] font-medium rounded-lg transition-colors duration-200"}," Refresh ")])])]),s.filteredPayments.length>0?(l(),i("div",R,[e[30]||(e[30]=t("h3",{class:"text-xl font-semibold text-white mb-4"},"Payment Entries",-1)),t("div",D,[(l(!0),i(g,null,h(s.filteredPayments,r=>(l(),i("div",{key:r.name,class:"bg-[#233d48] rounded-lg p-4 border border-[#2a4a58] cursor-pointer hover:border-[#8acc33] transition-colors",onClick:m=>s.viewPayment(r)},[t("div",N,[t("div",V,[t("div",j,[t("div",O,a(r.name),1),t("span",{class:v([s.statusBadgeClasses(r.status),"px-2 py-1 rounded-full text-xs font-medium"])},a(r.status),3),t("span",{class:v([s.typeBadgeClasses(r.payment_type),"px-2 py-1 rounded-full text-xs font-medium"])},a(r.payment_type),3)]),t("div",U,[t("div",B,[t("div",null,[e[26]||(e[26]=t("span",{class:"text-gray-400"},"Party:",-1)),t("span",q,a(r.party_name),1)]),t("div",null,[e[27]||(e[27]=t("span",{class:"text-gray-400"},"Amount:",-1)),t("span",I,a(s.formatCurrency(r.paid_amount)),1)]),t("div",null,[e[28]||(e[28]=t("span",{class:"text-gray-400"},"Date:",-1)),t("span",L,a(s.formatDate(r.posting_date)),1)]),t("div",null,[e[29]||(e[29]=t("span",{class:"text-gray-400"},"Company:",-1)),t("span",J,a(r.company),1)])])]),t("div",W," From: "+a(r.paid_from)+" → To: "+a(r.paid_to),1)]),t("div",X,[t("div",z,a(s.formatCurrency(r.paid_amount)),1),t("div",Q,a(r.party_type),1)])])],8,M))),128))])])):p("",!0),o.paymentEntries.length===0?(l(),i("div",G,[e[31]||(e[31]=x('<div class="text-gray-400 mb-4" data-v-14476ccc><svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-14476ccc><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-14476ccc></path></svg></div><h3 class="text-xl font-semibold text-white mb-2" data-v-14476ccc>No Payment Entries</h3><p class="text-gray-400 mb-4" data-v-14476ccc>Get started by creating your first payment entry</p>',3)),t("button",{onClick:e[3]||(e[3]=(...r)=>s.createNewPayment&&s.createNewPayment(...r)),class:"px-6 py-3 bg-[#8acc33] hover:bg-[#7abc22] text-white font-medium rounded-lg transition-colors duration-200"}," Create New Payment ")])):p("",!0)]),o.showModal?(l(),i("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e[24]||(e[24]=(...r)=>s.closeModal&&s.closeModal(...r))},[t("div",{class:"bg-[#233d48] rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-[#2a4a58]",onClick:e[23]||(e[23]=_(()=>{},["stop"]))},[t("div",H,[t("div",Z,[t("h3",Y,a(o.currentPayment.name||"New Payment Entry"),1),t("button",{onClick:e[4]||(e[4]=(...r)=>s.closeModal&&s.closeModal(...r)),class:"text-gray-400 hover:text-white transition-colors"},[...e[33]||(e[33]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("div",K,[t("div",$,[t("div",ee,[t("div",te,[e[40]||(e[40]=t("h4",{class:"text-lg font-semibold text-white mb-4"},"Payment Information",-1)),t("div",ne,[t("div",null,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Payment Type *",-1)),d(t("select",{"onUpdate:modelValue":e[5]||(e[5]=r=>o.currentPayment.payment_type=r),onChange:e[6]||(e[6]=(...r)=>s.handlePaymentTypeChange&&s.handlePaymentTypeChange(...r)),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",required:""},[...e[34]||(e[34]=[t("option",{value:"Pay"},"Pay",-1),t("option",{value:"Receive"},"Receive",-1),t("option",{value:"Internal Transfer"},"Internal Transfer",-1)])],544),[[f,o.currentPayment.payment_type]])]),t("div",null,[e[37]||(e[37]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Party Type *",-1)),d(t("select",{"onUpdate:modelValue":e[7]||(e[7]=r=>o.currentPayment.party_type=r),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",required:""},[...e[36]||(e[36]=[t("option",{value:"Supplier"},"Supplier",-1),t("option",{value:"Customer"},"Customer",-1),t("option",{value:"Employee"},"Employee",-1),t("option",{value:"Shareholder"},"Shareholder",-1)])],512),[[f,o.currentPayment.party_type]])]),t("div",null,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Party *",-1)),d(t("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=r=>o.currentPayment.party=r),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",placeholder:"Enter party name",required:""},null,512),[[u,o.currentPayment.party]])]),t("div",null,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Posting Date *",-1)),d(t("input",{type:"date","onUpdate:modelValue":e[9]||(e[9]=r=>o.currentPayment.posting_date=r),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",required:""},null,512),[[u,o.currentPayment.posting_date]])])])])]),t("div",re,[t("div",oe,[e[43]||(e[43]=t("h4",{class:"text-lg font-semibold text-white mb-4"},"Amount Details",-1)),t("div",se,[t("div",null,[t("label",ae,a(o.currentPayment.payment_type==="Receive"?"Received Amount *":"Paid Amount *"),1),d(t("input",{type:"number","onUpdate:modelValue":e[10]||(e[10]=r=>o.currentPayment.paid_amount=r),onInput:e[11]||(e[11]=(...r)=>s.updateAmountFields&&s.updateAmountFields(...r)),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white text-lg font-semibold",placeholder:"0.00",step:"0.01",required:""},null,544),[[u,o.currentPayment.paid_amount]])]),o.currentPayment.payment_type==="Receive"?(l(),i("div",ie,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Received Amount *",-1)),d(t("input",{type:"number","onUpdate:modelValue":e[12]||(e[12]=r=>o.currentPayment.received_amount=r),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",placeholder:"0.00",step:"0.01",required:""},null,512),[[u,o.currentPayment.received_amount]])])):p("",!0),t("div",null,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Amount in Words",-1)),t("div",de,a(o.currentPayment.in_words||"Zero"),1)])])]),t("div",le,[e[46]||(e[46]=t("h4",{class:"text-lg font-semibold text-white mb-4"},"Account Details",-1)),t("div",ce,[t("div",null,[t("label",ue,a((o.currentPayment.payment_type==="Receive","Paid From *")),1),d(t("select",{"onUpdate:modelValue":e[13]||(e[13]=r=>o.currentPayment.paid_from=r),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",required:""},[e[44]||(e[44]=t("option",{value:""},"Select Account",-1)),(l(!0),i(g,null,h(o.paidFromAccounts,r=>(l(),i("option",{key:r.name,value:r.name},a(r.name)+" ("+a(r.account_type)+") ",9,me))),128))],512),[[f,o.currentPayment.paid_from]])]),t("div",null,[t("label",ye,a((o.currentPayment.payment_type==="Receive","Paid To *")),1),d(t("select",{"onUpdate:modelValue":e[14]||(e[14]=r=>o.currentPayment.paid_to=r),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",required:""},[e[45]||(e[45]=t("option",{value:""},"Select Account",-1)),(l(!0),i(g,null,h(o.cashAccounts,r=>(l(),i("option",{key:r.name,value:r.name},a(r.name)+" ("+a(r.account_type)+") ",9,pe))),128))],512),[[f,o.currentPayment.paid_to]])])])])])]),t("div",fe,[e[50]||(e[50]=t("h4",{class:"text-lg font-semibold text-white mb-4"},"Payment Details",-1)),t("div",be,[t("div",null,[e[48]||(e[48]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Mode of Payment",-1)),d(t("select",{"onUpdate:modelValue":e[15]||(e[15]=r=>o.currentPayment.mode_of_payment=r),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white"},[...e[47]||(e[47]=[x('<option value="" data-v-14476ccc>Select Mode</option><option value="Cash" data-v-14476ccc>Cash</option><option value="Bank" data-v-14476ccc>Bank Transfer</option><option value="Cheque" data-v-14476ccc>Cheque</option><option value="Credit Card" data-v-14476ccc>Credit Card</option>',5)])],512),[[f,o.currentPayment.mode_of_payment]])]),t("div",null,[e[49]||(e[49]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Reference No",-1)),d(t("input",{type:"text","onUpdate:modelValue":e[16]||(e[16]=r=>o.currentPayment.reference_no=r),class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",placeholder:"Optional"},null,512),[[u,o.currentPayment.reference_no]])])])]),t("div",ge,[e[55]||(e[55]=t("h4",{class:"text-lg font-semibold text-white mb-4"},"References",-1)),t("div",he,[(l(!0),i(g,null,h(o.currentPayment.references,(r,m)=>(l(),i("div",{key:m,class:"border border-[#2a4a58] rounded-md p-3"},[t("div",ve,[t("div",null,[e[52]||(e[52]=t("label",{class:"block text-xs font-medium text-gray-400 mb-1"},"Reference Type",-1)),d(t("select",{"onUpdate:modelValue":y=>r.reference_doctype=y,class:"w-full px-2 py-1 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-1 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white text-sm"},[...e[51]||(e[51]=[t("option",{value:"Purchase Invoice"},"Purchase Invoice",-1),t("option",{value:"Sales Invoice"},"Sales Invoice",-1),t("option",{value:"Journal Entry"},"Journal Entry",-1)])],8,xe),[[f,r.reference_doctype]])]),t("div",null,[e[53]||(e[53]=t("label",{class:"block text-xs font-medium text-gray-400 mb-1"},"Reference Name",-1)),d(t("input",{type:"text","onUpdate:modelValue":y=>r.reference_name=y,class:"w-full px-2 py-1 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-1 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white text-sm"},null,8,Pe),[[u,r.reference_name]])])]),t("div",_e,[t("div",null,[e[54]||(e[54]=t("label",{class:"block text-xs font-medium text-gray-400 mb-1"},"Amount",-1)),d(t("input",{type:"number","onUpdate:modelValue":y=>r.allocated_amount=y,class:"w-full px-2 py-1 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-1 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white text-sm",step:"0.01"},null,8,we),[[u,r.allocated_amount]])]),t("div",Ce,[t("button",{onClick:y=>s.removeReference(m),class:"text-red-400 hover:text-red-300 text-sm"}," Remove ",8,ke)])])]))),128)),t("button",{onClick:e[17]||(e[17]=(...r)=>s.addReference&&s.addReference(...r)),class:"w-full px-3 py-2 border-2 border-dashed border-[#8acc33] text-[#8acc33] bg-transparent hover:bg-[#2a4a58] font-medium rounded-md transition-colors duration-200 text-sm"}," + Add Reference ")])]),t("div",Se,[e[56]||(e[56]=t("h4",{class:"text-lg font-semibold text-white mb-4"},"Remarks",-1)),d(t("textarea",{"onUpdate:modelValue":e[18]||(e[18]=r=>o.currentPayment.remarks=r),rows:"3",class:"w-full px-3 py-2 border border-[#2a4a58] rounded-md focus:outline-none focus:ring-2 focus:ring-[#8acc33] focus:border-transparent bg-[#233d48] text-white",placeholder:"Add any remarks or notes..."},null,512),[[u,o.currentPayment.remarks]])]),e[57]||(e[57]=x('<div class="bg-[#2a4a58] rounded-lg border border-[#2a4a58] p-4 mb-6" data-v-14476ccc><h4 class="text-lg font-semibold text-white mb-3" data-v-14476ccc>Help and Documentation</h4><div class="text-gray-300 text-sm space-y-2" data-v-14476ccc><p data-v-14476ccc>• You can quickly track all your payments and receipts from this dashboard</p><p data-v-14476ccc>• Submitted payments will automatically appear in your accounting reports</p><p data-v-14476ccc>• Use references to link payments to specific invoices or documents</p></div><div class="mt-4" data-v-14476ccc><button class="text-[#8acc33] hover:text-[#7abc22] font-medium text-sm" data-v-14476ccc> Learn More About Payment Tracking → </button></div></div>',1)),t("div",Ee,[o.currentPayment.name&&o.currentPayment.status==="Draft"?(l(),i("button",{key:0,onClick:e[19]||(e[19]=(...r)=>s.deletePayment&&s.deletePayment(...r)),class:"px-6 py-2 border border-red-500 text-red-500 bg-transparent hover:bg-red-500 hover:text-white font-medium rounded-lg transition-colors duration-200"}," Delete ")):p("",!0),t("button",{onClick:e[20]||(e[20]=(...r)=>s.closeModal&&s.closeModal(...r)),class:"px-6 py-2 border border-gray-500 text-gray-300 hover:bg-[#2a4a58] font-medium rounded-lg transition-colors duration-200"}," Cancel "),o.currentPayment.name&&o.currentPayment.status==="Draft"?(l(),i("button",{key:1,onClick:e[21]||(e[21]=(...r)=>s.submitPayment&&s.submitPayment(...r)),disabled:o.isSubmitting,class:v(["px-6 py-2 font-medium rounded-lg transition-colors duration-200",o.isSubmitting?"bg-gray-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"])},a(o.isSubmitting?"Submitting...":"Submit"),11,Fe)):p("",!0),t("button",{onClick:e[22]||(e[22]=(...r)=>s.savePayment&&s.savePayment(...r)),disabled:o.isSaving||!s.isFormValid,class:v(["px-6 py-2 font-medium rounded-lg transition-colors duration-200",o.isSaving||!s.isFormValid?"bg-gray-500 cursor-not-allowed":"bg-[#8acc33] hover:bg-[#7abc22] text-white"])},a(o.isSaving?"Saving...":o.currentPayment.name?"Update":"Save"),11,Te)])])])])):p("",!0)])}const De=P(w,[["render",Ae],["__scopeId","data-v-14476ccc"]]);export{De as default};
//# sourceMappingURL=Expenses-49701ee0.js.map
